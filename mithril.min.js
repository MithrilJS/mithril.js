/*
Mithril v0.2.0
http://github.com/lhorie/mithril.js
(c) Leo Horie
License: MIT
*/
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){var d;(function(a,e){var f=c(3),g=c(4);f(g,c(9),c(8),c(10),c(11)),"undefined"!=typeof a&&(a.m=g),"undefined"!=typeof e&&null!==e&&e.exports?e.exports=g:(d=function(){return g}.call(b,c,b,e),!(void 0!==d&&(e.exports=d)))}).call(b,function(){return this}(),c(2)(a))},function(a,b,c){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(a,b,c){function d(a){"use strict";if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d){d=Object(d);for(var e=Object.keys(Object(d)),f=0,g=e.length;g>f;f++){var h=e[f],i=Object.getOwnPropertyDescriptor(d,h);void 0!==i&&i.enumerable&&(b[h]=d[h])}}}return b}a.exports=d},function(a,b,c){function d(){var a=[].slice.call(arguments);if(n.call(a[0])===r)return j(a[0],a.slice(1));var b,c=!(null==a[1]||n.call(a[1])!==r||"tag"in a[1]||"view"in a[1]||"subtree"in a[1]),d=c?a[1]:{},e="class"in d?"class":"className",f={tag:"div",attrs:{}},g=[];if(n.call(a[0])!=q)throw new Error("selector in m(selector, attrs, children) should be a string");for(;b=w.exec(a[0]);)if(""===b[1]&&b[2])f.tag=b[2];else if("#"===b[1])f.attrs.id=b[2];else if("."===b[1])g.push(b[2]);else if("["===b[3][0]){var h=x.exec(b[3]);f.attrs[h[1]]=h[3]||(h[2]?"":!0)}var i=c?a.slice(2):a.slice(1);1===i.length&&n.call(i[0])===p?f.children=i[0]:f.children=i;for(var k in d)d.hasOwnProperty(k)&&(k===e&&null!=d[k]&&""!==d[k]?(g.push(d[k]),f.attrs[k]=""):f.attrs[k]=d[k]);return g.length>0&&(f.attrs[e]=g.join(" ")),f}function e(a,b,c,i,j,k,l,m,s,u,w){try{(null==j||null==j.toString())&&(j="")}catch(x){j=""}if("retain"===j.subtree)return k;var A=n.call(k),B=n.call(j);if(null==k||A!==B){if(null!=k)if(c&&c.nodes){var C=m-i,D=C+(B===p?j:k.nodes).length;t(c.nodes.slice(C,D),c.slice(C,D))}else k.nodes&&t(k.nodes,k);k=new j.constructor,k.tag&&(k={}),k.nodes=[]}if(B===p){for(var E=0,F=j.length;F>E;E++)n.call(j[E])===p&&(j=j.concat.apply([],j),E--,F=j.length);for(var G=[],H=k.length===j.length,J=0,K=1,N=2,O=3,P={},Q=!1,E=0;E<k.length;E++)k[E]&&k[E].attrs&&null!=k[E].attrs.key&&(Q=!0,P[k[E].attrs.key]={action:K,index:E});for(var R=0,E=0,F=j.length;F>E;E++)if(j[E]&&j[E].attrs&&null!=j[E].attrs.key){for(var S=0,F=j.length;F>S;S++)j[S]&&j[S].attrs&&null==j[S].attrs.key&&(j[S].attrs.key="__mithril__"+R++);break}if(Q){var T=!1;if(j.length!=k.length)T=!0;else for(var U,V,E=0;U=k[E],V=j[E];E++)if(U.attrs&&V.attrs&&U.attrs.key!=V.attrs.key){T=!0;break}if(T){for(var E=0,F=j.length;F>E;E++)if(j[E]&&j[E].attrs&&null!=j[E].attrs.key){var W=j[E].attrs.key;P[W]?P[W]={action:O,index:E,from:P[W].index,element:k.nodes[P[W].index]||v.document.createElement("div")}:P[W]={action:N,index:E}}var X=[];for(var Y in P)X.push(P[Y]);var Z=X.sort(f),$=new Array(k.length);$.nodes=k.nodes.slice();for(var _,E=0;_=Z[E];E++){if(_.action===K&&(t(k[_.index].nodes,k[_.index]),$.splice(_.index,1)),_.action===N){var aa=v.document.createElement("div");aa.key=j[_.index].attrs.key,a.insertBefore(aa,a.childNodes[_.index]||null),$.splice(_.index,0,{attrs:{key:j[_.index].attrs.key},nodes:[aa]}),$.nodes[_.index]=aa}_.action===O&&(a.childNodes[_.index]!==_.element&&null!==_.element&&a.insertBefore(_.element,a.childNodes[_.index]||null),$[_.index]=k[_.from],$.nodes[_.index]=_.element)}k=$}}for(var E=0,ba=0,F=j.length;F>E;E++){var ca=e(a,b,k,m,j[E],k[ba],l,m+J||J,s,u,w);void 0!==ca&&(ca.nodes.intact||(H=!1),J+=ca.$trusted?(ca.match(/<[^\/]|\>\s*[^<]/g)||[0]).length:n.call(ca)===p?ca.length:1,k[ba++]=ca)}if(!H){for(var E=0,F=j.length;F>E;E++)null!=k[E]&&G.push.apply(G,k[E].nodes);for(var da,E=0;da=k.nodes[E];E++)null!=da.parentNode&&G.indexOf(da)<0&&t([da],[k[E]]);j.length<k.length&&(k.length=j.length),k.nodes=G}}else if(null!=j&&B===r){for(var ea=[],fa=[];j.view;){var ga=j.view.$original||j.view,ha="diff"==d.redraw.strategy()&&k.views?k.views.indexOf(ga):-1,ia=ha>-1?k.controllers[ha]:new(j.controller||z),W=j&&j.attrs&&j.attrs.key;if(j=0==M||L||k&&k.controllers&&k.controllers.indexOf(ia)>-1?j.view(ia):{tag:"placeholder"},"retain"===j.subtree)return k;W&&(j.attrs||(j.attrs={}),j.attrs.key=W),ia.onunload&&I.push({controller:ia,handler:ia.onunload}),ea.push(ga),fa.push(ia)}if(!j.tag&&fa.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");j.attrs||(j.attrs={}),k.attrs||(k.attrs={});var ja=Object.keys(j.attrs),ka=ja.length>("key"in j.attrs?1:0);if((j.tag!=k.tag||ja.sort().join()!=Object.keys(k.attrs).sort().join()||j.attrs.id!=k.attrs.id||j.attrs.key!=k.attrs.key||"all"==d.redraw.strategy()&&(!k.configContext||k.configContext.retain!==!0)||"diff"==d.redraw.strategy()&&k.configContext&&k.configContext.retain===!1)&&(k.nodes.length&&t(k.nodes),k.configContext&&typeof k.configContext.onunload===o&&k.configContext.onunload(),k.controllers))for(var ia,E=0;ia=k.controllers[E];E++)typeof ia.onunload===o&&ia.onunload({preventDefault:z});if(n.call(j.tag)!=q)return;var da,la=0===k.nodes.length;if(j.attrs.xmlns?u=j.attrs.xmlns:"svg"===j.tag?u="http://www.w3.org/2000/svg":"math"===j.tag&&(u="http://www.w3.org/1998/Math/MathML"),la){if(da=j.attrs.is?void 0===u?v.document.createElement(j.tag,j.attrs.is):v.document.createElementNS(u,j.tag,j.attrs.is):void 0===u?v.document.createElement(j.tag):v.document.createElementNS(u,j.tag),k={tag:j.tag,attrs:ka?g(da,j.tag,j.attrs,{},u):j.attrs,children:null!=j.children&&j.children.length>0?e(da,j.tag,void 0,void 0,j.children,k.children,!0,0,j.attrs.contenteditable?da:s,u,w):j.children,nodes:[da]},fa.length){k.views=ea,k.controllers=fa;for(var ia,E=0;ia=fa[E];E++)if(ia.onunload&&ia.onunload.$old&&(ia.onunload=ia.onunload.$old),M&&ia.onunload){var ma=ia.onunload;ia.onunload=z,ia.onunload.$old=ma}}k.children&&!k.children.nodes&&(k.children.nodes=[]),"select"===j.tag&&"value"in j.attrs&&g(da,j.tag,{value:j.attrs.value},{},u),a.insertBefore(da,a.childNodes[m]||null)}else da=k.nodes[0],ka&&g(da,j.tag,j.attrs,k.attrs,u),k.children=e(da,j.tag,void 0,void 0,j.children,k.children,!1,0,j.attrs.contenteditable?da:s,u,w),k.nodes.intact=!0,fa.length&&(k.views=ea,k.controllers=fa),l===!0&&null!=da&&a.insertBefore(da,a.childNodes[m]||null);if(typeof j.attrs.config===o){var na=k.configContext=k.configContext||{},oa=function(a,b){return function(){return a.attrs.config.apply(a,b)}};w.push(oa(j,[da,!la,na,k]))}}else if(typeof j!=o){var G;0===k.nodes.length?(j.$trusted?G=h(a,m,j):(G=[v.document.createTextNode(j)],a.nodeName.match(y)||a.insertBefore(G[0],a.childNodes[m]||null)),k="string number boolean".indexOf(typeof j)>-1?new j.constructor(j):j,k.nodes=G):k.valueOf()!==j.valueOf()||l===!0?(G=k.nodes,s&&s===v.document.activeElement||(j.$trusted?(t(G,k),G=h(a,m,j)):"textarea"===b?a.value=j:s?s.innerHTML=j:((1===G[0].nodeType||G.length>1)&&(t(k.nodes,k),G=[v.document.createTextNode(j)]),a.insertBefore(G[0],a.childNodes[m]||null),G[0].nodeValue=j)),k=new j.constructor(j),k.nodes=G):k.nodes.intact=!0}return k}function f(a,b){return a.action-b.action||a.index-b.index}function g(a,b,c,d,e){for(var f in c){var g=c[f],h=d[f];if(f in d&&h===g)"value"===f&&"input"===b&&a.value!=g&&(a.value=g);else{d[f]=g;try{if("config"===f||"key"==f)continue;if(typeof g===o&&0===f.indexOf("on"))a[f]=i(g,a);else if("style"===f&&null!=g&&n.call(g)===r){for(var j in g)(null==h||h[j]!==g[j])&&(a.style[j]=g[j]);for(var j in h)j in g||(a.style[j]="")}else null!=e?"href"===f?a.setAttributeNS("http://www.w3.org/1999/xlink","href",g):"className"===f?a.setAttribute("class",g):a.setAttribute(f,g):f in a&&"list"!==f&&"style"!==f&&"form"!==f&&"type"!==f&&"width"!==f&&"height"!==f?("input"!==b||a[f]!==g)&&(a[f]=g):a.setAttribute(f,g)}catch(k){if(k.message.indexOf("Invalid argument")<0)throw k}}}return d}function h(a,b,c){var d=a.childNodes[b];if(d){var e=1!=d.nodeType,f=v.document.createElement("span");e?(a.insertBefore(f,d||null),f.insertAdjacentHTML("beforebegin",c),a.removeChild(f)):d.insertAdjacentHTML("beforebegin",c)}else a.insertAdjacentHTML("beforeend",c);for(var g=[];a.childNodes[b]!==d;)g.push(a.childNodes[b]),b++;return g}function i(a,b){return function(c){c=c||event,d.redraw.strategy("diff"),d.startComputation();try{return a.call(b,c)}finally{N()}}}function j(a,b){var c=function(){return(a.controller||z).apply(this,b)||this},d=function(c){return arguments.length>1&&(b=b.concat([].slice.call(arguments,1))),a.view.apply(a,b?[c].concat(b):[c])};d.$original=a.view;var e={controller:c,view:d};return b[0]&&null!=b[0].key&&(e.attrs={key:b[0].key}),e}function k(){d.route&&d.route.computePreRedrawHook&&(d.route.computePreRedrawHook(),d.route.computePreRedrawHook=null);for(var a,b=0;a=D[b];b++)if(F[b]){var c=E[b].controller&&E[b].controller.$args?[F[b]].concat(E[b].controller.$args):[F[b]];d.render(a,E[b].view?E[b].view(F[b],c):"")}d.route&&d.route.computePostRedrawHook&&(d.route.computePostRedrawHook(),d.route.computePostRedrawHook=null),G=null,H=new Date,d.redraw.strategy("diff")}var l,m=c(5),n=m.type,o=m.FUNCTION,p=m.ARRAY,q=m.STRING,r=m.OBJECT,s=c(6),t=s.clear,u=s.getCellCacheKey,v=c(7),w=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,x=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,y=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/,z=function(){},A={appendChild:function(a){void 0===l&&(l=v.document.createElement("html")),v.document.documentElement&&v.document.documentElement!==a?v.document.replaceChild(a,v.document.documentElement):v.document.appendChild(a),this.childNodes=v.document.childNodes},insertBefore:function(a){this.appendChild(a)},childNodes:[]},B={};d.render=function(a,b,c){var d=[];if(!a)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var f=u(a),g=a===v.document,h=g||a===v.document.documentElement?A:a;g&&"html"!=b.tag&&(b={tag:"html",attrs:{},children:b}),void 0===B[f]&&t(h.childNodes),c===!0&&reset(a),B[f]=e(h,null,void 0,void 0,b,B[f],!1,0,null,void 0,d);for(var i=0,j=d.length;j>i;i++)d[i]()},d.trust=function(a){return a=new String(a),a.$trusted=!0,a};var C,D=[],E=[],F=[],G=null,H=0,I=[],J=16;d.component=function(a){return j(a,[].slice.call(arguments,1))},d.mount=d.module=function(a,b){if(!a)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var c=D.indexOf(a);0>c&&(c=D.length);for(var e,f=!1,g={preventDefault:function(){f=!0,d.route.computePreRedrawHook=d.route.computePostRedrawHook=null}},h=0;e=I[h];h++)e.handler.call(e.controller,g),e.controller.onunload=null;if(f)for(var e,h=0;e=I[h];h++)e.controller.onunload=e.handler;else I=[];if(F[c]&&typeof F[c].onunload===o&&F[c].onunload(g),!f){d.redraw.strategy("all"),d.startComputation(),D[c]=a,arguments.length>2&&(b=subcomponent(b,[].slice.call(arguments,2)));var i=C=b=b||{controller:function(){}},j=b.controller||z,k=new j;return i===C&&(F[c]=k,E[c]=b),N(),F[c]}};var K=!1,L=!1;d.redraw=function(a){if(!K){var b=v.requestAnimationFrame,c=v.cancelAnimationFrame;K=!0,a&&(L=!0),G&&a!==!0?(b===window.requestAnimationFrame||new Date-H>J)&&(G>0&&c(G),G=b(k,J)):(k(),G=b(function(){G=null},J)),K=L=!1}},d.redraw.strategy=c(8).prop();var M=0;d.startComputation=function(){M++},d.endComputation=function(){M=Math.max(M-1,0),0===M&&d.redraw()};var N=function(){"none"==d.redraw.strategy()?(M--,d.redraw.strategy("diff")):d.endComputation()};a.exports=d},function(a,b,c){a.exports={OBJECT:"[object Object]",ARRAY:"[object Array]",STRING:"[object String]",FUNCTION:"function",type:{}.toString}},function(a,b,c){function d(a,b){var c=m.prop(b);return a.then(c),c.then=function(c,e){return d(a.then(c,e),b)},c["catch"]=c.then.bind(null,null),c}function e(a,b){for(var c=a.length-1;c>-1;c--)if(a[c]&&a[c].parentNode){try{a[c].parentNode.removeChild(a[c])}catch(d){}b=[].concat(b),b[c]&&f(b[c])}0!=a.length&&(a.length=0)}function f(a){if(a.configContext&&typeof a.configContext.onunload===l&&(a.configContext.onunload(),a.configContext.onunload=null),a.controllers)for(var b,c=0;b=a.controllers[c];c++)typeof b.onunload===l&&b.onunload({preventDefault:o});if(a.children)if(k.call(a.children)===n)for(var d,c=0;d=a.children[c];c++)f(d);else a.children.tag&&f(a.children)}function g(a){var b=p.indexOf(a);return 0>b?p.push(a)-1:b}function h(a){"?"===a.charAt(0)&&(a=a.substring(1));for(var b=a.split("&"),c={},d=0,e=b.length;e>d;d++){var f=b[d].split("="),g=decodeURIComponent(f[0]),h=2==f.length?decodeURIComponent(f[1]):null;null!=c[g]?(k.call(c[g])!==n&&(c[g]=[c[g]]),c[g].push(h)):c[g]=h}return c}function i(a,b){var c={},d=[];for(var e in a){var f=b?b+"["+e+"]":e,g=a[e],h=k.call(g),j=null===g?encodeURIComponent(f):h===OBJECT?i(g,f):h===n?g.reduce(function(a,b){return c[f]||(c[f]={}),c[f][b]?a:(c[f][b]=!0,a.concat(encodeURIComponent(f)+"="+encodeURIComponent(b)))},[]).join("&"):encodeURIComponent(f)+"="+encodeURIComponent(g);void 0!==g&&d.push(j)}return d.join("&")}var j=c(5),k=j.type,l=j.FUNCTION,n=j.ARRAY;OBJECT=j.OBJECT;var o=function(){},p=[];a.exports={propify:d,clear:e,unload:f,getCellCacheKey:g,buildQueryString:i,parseQueryString:h}},function(a,b,c){function d(a){e.document=a.document,e.location=a.location,e.cancelAnimationFrame=a.cancelAnimationFrame||a.clearTimeout,e.requestAnimationFrame=a.requestAnimationFrame||a.setTimeout}var e={initialize:d};d("undefined"!=typeof window?window:{}),a.exports=e},function(a,b,c){function d(a){var b=function(){return arguments.length&&(a=arguments[0]),a};return b.toJSON=function(){return a},b}var e={},f=c(5),g=f.type,h=f.FUNCTION,i=f.OBJECT,j=c(6).propify;e.withAttr=function(a,b){return function(c){c=c||event;var d=c.currentTarget||this;b(a in d?d[a]:d.getAttribute(a))}},e.prop=function(a){return(null!=a&&g.call(a)===i||typeof a===h)&&typeof a.then===h?j(a):d(a)},a.exports=e},function(a,b,c){function d(a){return a.slice(t[k.route.mode].length)}function e(a,b,c){h={};var d=c.indexOf("?");-1!==d&&(h=q(c.substr(d+1,c.length)),c=c.substr(0,d));var e=Object.keys(b),f=e.indexOf(c);if(-1!==f)return j.mount(a,b[e[f]]),!0;for(var g in b){if(g===c)return j.mount(a,b[g]),!0;var i=new RegExp("^"+g.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(i.test(c))return c.replace(i,function(){for(var c=g.match(/:[^\/]+/g)||[],d=[].slice.call(arguments,1,-2),e=0,f=c.length;f>e;e++)h[c[e].replace(/:|\./g,"")]=decodeURIComponent(d[e]);j.mount(a,b[g])}),!0}}function f(a){if(a=a||event,!a.ctrlKey&&!a.metaKey&&2!==a.which){a.preventDefault?a.preventDefault():a.returnValue=!1;for(var b=a.currentTarget||a.srcElement,c="pathname"===k.route.mode&&b.search?q(b.search.slice(1)):{};b&&"A"!=b.nodeName.toUpperCase();)b=b.parentNode;k.route(b[k.route.mode].slice(t[k.route.mode].length),c)}}function g(){"hash"!=k.route.mode&&r.location.hash?r.location.hash=r.location.hash:window.scrollTo(0,0)}var h,i,j=c(4),k={},l=c(5),m=l.type,n=(l.FUNCTION,l.ARRAY,l.STRING),o=(l.OBJECT,c(6)),p=(o.clear,o.buildQueryString),q=o.parseQueryString,r=c(7),s=function(){},t={pathname:"",hash:"#",search:"?"},u=s,v=!1;k.route=function(){if(0===arguments.length)return i;if(3===arguments.length&&m.call(arguments[1])===n){var a=arguments[0],b=arguments[1],c=arguments[2];u=function(f){var g=i=d(f);if(!e(a,c,g)){if(v)throw new Error("Ensure the default route matches one of the routes defined in m.route");v=!0,k.route(b,!0),v=!1}};var h="hash"===k.route.mode?"onhashchange":"onpopstate";window[h]=function(){var a=r.location[k.route.mode];"pathname"===k.route.mode&&(a+=r.location.search),i!=d(a)&&u(a)},k.route.computePreRedrawHook=g,window[h]()}else if(arguments[0].addEventListener||arguments[0].attachEvent){var j=arguments[0],l=(arguments[1],arguments[2],arguments[3]);j.href=("pathname"!==k.route.mode?r.location.pathname:"")+t[k.route.mode]+l.attrs.href,j.addEventListener?(j.removeEventListener("click",f),j.addEventListener("click",f)):(j.detachEvent("onclick",f),j.attachEvent("onclick",f))}else if(m.call(arguments[0])===n){var o=i;i=arguments[0];var s=arguments[1]||{},w=i.indexOf("?"),x=w>-1?q(i.slice(w+1)):{};for(var y in s)x[y]=s[y];var z=p(x),A=w>-1?i.slice(0,w):i;z&&(i=A+(-1===A.indexOf("?")?"?":"&")+z);var B=(3===arguments.length?arguments[2]:arguments[1])===!0||o===arguments[0];window.history.pushState?(k.route.computePreRedrawHook=g,k.route.computePostRedrawHook=function(){window.history[B?"replaceState":"pushState"](null,r.document.title,t[k.route.mode]+i)},u(t[k.route.mode]+i)):(r.location[k.route.mode]=i,u(t[k.route.mode]+i))}},k.route.param=function(a){if(!h)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return h[a]},k.route.mode="search",k.route.buildQueryString=p,k.route.parseQueryString=q,a.exports=k},function(a,b,c){function d(a,b){function c(a){o=a||k,r.map(function(a){o===i&&a.resolve(q)||a.reject(q)})}function e(a,b,c,d){if((null!=q&&l.call(q)===p||typeof q===m)&&typeof a===m)try{var e=0;a.call(q,function(a){e++||(q=a,b())},function(a){e++||(q=a,c())})}catch(f){j.deferred.onerror(f),q=f,c()}else d()}function f(){var d;try{d=q&&q.then}catch(k){return j.deferred.onerror(k),q=k,o=h,f()}e(d,function(){o=g,f()},function(){o=h,f()},function(){try{o===g&&typeof a===m?q=a(q):o===h&&"function"==typeof b&&(q=b(q),o=g)}catch(f){return j.deferred.onerror(f),q=f,c()}q===n?(q=TypeError(),c()):e(d,function(){c(i)},c,function(){c(o===g&&i)})})}var g=1,h=2,i=3,k=4,n=this,o=0,q=0,r=[];n.promise={},n.resolve=function(a){return o||(q=a,o=g,f()),this},n.reject=function(a){return o||(q=a,o=h,f()),this},n.promise.then=function(a,b){var c=new d(a,b);return o===i?c.resolve(q):o===k?c.reject(q):r.push(c),c.promise}}function e(a){return a}function f(a){if(!a.dataType||"jsonp"!==a.dataType.toLowerCase()){var b=new window.XMLHttpRequest;if(b.open(a.method,a.url,!0,a.user,a.password),b.onreadystatechange=function(){4===b.readyState&&(b.status>=200&&b.status<300?a.onload({type:"load",target:b}):a.onerror({type:"error",target:b}))},a.serialize===JSON.stringify&&a.data&&"GET"!==a.method&&b.setRequestHeader("Content-Type","application/json; charset=utf-8"),a.deserialize===JSON.parse&&b.setRequestHeader("Accept","application/json, text/*"),typeof a.config===m){var c=a.config(b,a);null!=c&&(b=c)}var d="GET"!==a.method&&a.data?a.data:"";if(d&&l.call(d)!=o&&d.constructor!=window.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return b.send(d),b}var e="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),f=t.document.createElement("script");window[e]=function(b){f.parentNode.removeChild(f),a.onload({type:"load",target:{responseText:b}}),window[e]=void 0},f.onerror=function(b){return f.parentNode.removeChild(f),a.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),window[e]=void 0,!1},f.onload=function(a){return!1},f.src=a.url+(a.url.indexOf("?")>0?"&":"?")+(a.callbackKey?a.callbackKey:"callback")+"="+e+"&"+r(a.data||{}),t.document.body.appendChild(f)}function g(a,b,c){if("GET"===a.method&&"jsonp"!=a.dataType){var d=a.url.indexOf("?")<0?"?":"&",e=r(b);a.url=a.url+(e?d+e:"")}else a.data=c(b);return a}function h(a,b){var c=a.match(/:[a-z]\w+/gi);if(c&&b)for(var d=0;d<c.length;d++){var e=c[d].slice(1);a=a.replace(c[d],b[e]),delete b[e]}return a}var i=c(4),j={},k=c(5),l=k.type,m=k.FUNCTION,n=k.ARRAY,o=k.STRING,p=k.OBJECT,q=c(6),r=q.buildQueryString,s=q.propify,t=c(7);j.deferred=function(){var a=new d;return a.promise=s(a.promise),a},j.deferred.onerror=function(a){if("[object Error]"===l.call(a)&&!a.constructor.toString().match(/ Error/))throw a},j.sync=function(a){function b(a,b){return function(g){return f[a]=g,b||(c="reject"),0===--e&&(d.promise(f),d[c](f)),g}}var c="resolve",d=j.deferred(),e=a.length,f=new Array(e);if(a.length>0)for(var g=0;g<a.length;g++)a[g].then(b(g,!0),b(g,!1));else d.resolve([]);return d.promise},j.request=function(a){a.background!==!0&&i.startComputation();var b=new d,c=a.dataType&&"jsonp"===a.dataType.toLowerCase(),k=a.serialize=c?e:a.serialize||JSON.stringify,m=a.deserialize=c?e:a.deserialize||JSON.parse,o=c?function(a){return a.responseText}:a.extract||function(a){return 0===a.responseText.length&&m===JSON.parse?null:a.responseText};return a.method=(a.method||"GET").toUpperCase(),a.url=h(a.url,a.data),a=g(a,a.data,k),a.onload=a.onerror=function(c){try{c=c||event;var d=("load"===c.type?a.unwrapSuccess:a.unwrapError)||e,f=d(m(o(c.target,a)),c.target);if("load"===c.type)if(l.call(f)===n&&a.type)for(var g=0;g<f.length;g++)f[g]=new a.type(f[g]);else a.type&&(f=new a.type(f));b["load"===c.type?"resolve":"reject"](f)}catch(c){j.deferred.onerror(c),b.reject(c)}a.background!==!0&&i.endComputation()},f(a),b.promise=s(b.promise,a.initialValue),b.promise},a.exports=j},function(a,b,c){var d=c(7),e={deps:function(a){return d.initialize(window=a||window),window}};a.exports=e}]);
//# sourceMappingURL=mithril.min.js.map