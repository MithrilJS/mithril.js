new function(){function y(){function a(){0<arguments.length&&I(a,arguments[0],void 0);return a._state.value}N(a,arguments);0<arguments.length&&I(a,arguments[0],void 0);return a}function N(a,b){a.constructor=y;a._state={id:aa++,value:void 0,error:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],errorStream:void 0,endStream:void 0};a.map=ba;a.ap=ca;a.of=y;a.valueOf=O;a.toJSON=da;a.toString=O;a.run=ea;a["catch"]=fa;Object.defineProperties(a,{error:{get:function(){if(!a._state.errorStream){var b=
function(){0<arguments.length&&I(a,void 0,arguments[0]);return a._state.error};N(b,[]);D(b,[a],P,P);a._state.errorStream=b}return a._state.errorStream}},end:{get:function(){if(!a._state.endStream){var b=y();b.map(function(d){!0===d&&(Q(a),Q(b));return d});a._state.endStream=b}return a._state.endStream}}})}function I(a,b,h){E(a,b,h);for(var d in a._state.deps)R(a._state.deps[d],!1);a._state.changed=!1;for(var g in a._state.deps)a._state.deps[g]._state.changed=!1}function E(a,b,h){h=S(b,h);if(void 0!==
h&&"function"===typeof a._state.recover)try{var d=a._state.recover();if(d===F)return;a._state.value=d;a._state.error=void 0}catch(g){a._state.value=void 0,a._state.error=g,T(a,g)}else a._state.value=b,a._state.error=h;a._state.changed=!0;2!==a._state.state&&(a._state.state=1)}function R(a,b){var h=a._state,d=h.parents;if(0<d.length&&d.filter(ga).length===d.length&&(b||0<d.filter(U).length))if(d=d.filter(V),0<d.length)E(a,void 0,d[0]._state.error);else try{var g=h.derive();g!==F&&E(a,g,void 0)}catch(q){E(a,
void 0,q),T(a,q)}}function S(a,b){null!=a&&a.constructor===y&&(b=void 0!==a._state.error?a._state.error:S(a._state.value,a._state.error));return b}function T(a,b){0===Object.keys(a._state.deps).length&&setTimeout(function(){0===Object.keys(a._state.deps).length&&console.error(b)},0)}function ea(a){var b=y(),h=this;return D(b,[h],function(){return W(b,a(h()))},void 0)}function fa(a){var b=y(),h=this;return D(b,[h],function(){return h._state.value},function(){return W(b,a(h._state.error))})}function G(a,
b){return D(y(),b,function(){var h=b.filter(V);if(0<h.length)throw h[0]._state.error;return a.apply(this,b.concat([b.filter(U)]))},void 0)}function W(a,b){if(null!=b&&b.constructor===y){b.error.map(a.error);b.map(a);if(0===b._state.state)return F;if(b._state.error)throw b._state.error;b=b._state.value}return b}function D(a,b,h,d){var g=a._state;g.derive=h;g.recover=d;g.parents=b.filter(ha);X(a,g.parents);R(a,!0);return a}function X(a,b){for(var h=0;h<b.length;h++)b[h]._state.deps[a._state.id]=a,X(a,
b[h]._state.parents)}function Q(a){for(var b=0;b<a._state.parents.length;b++)delete a._state.parents[b]._state.deps[a._state.id];for(var h in a._state.deps){var b=a._state.deps[h],d=b._state.parents.indexOf(a);-1<d&&b._state.parents.splice(d,1)}a._state.state=2;a._state.deps={}}function ba(a){return G(function(b){return a(b())},[this])}function ca(a){return G(function(a,h){return a()(h())},[this,a])}function O(){return this._state.value}function da(){return JSON.stringify(this._state.value)}function ga(a){return 1===
a._state.state}function U(a){return a._state.changed}function ha(a){return 2!==a._state.state}function V(a){return a._state.error}function u(a,b,h,d,g,q){return{tag:a,key:b,attrs:h,children:d,text:g,dom:q,domSize:void 0,state:{},events:void 0,instance:void 0}}var aa=0,P=function(){},F={},C={stream:y,merge:function(a){return G(function(){return a.map(function(a){return a()})},a)},combine:G,reject:function(a){var b=y();b.error(a);return b},HALT:F};u.normalize=function(a){return a instanceof Array?u("[",
void 0,void 0,u.normalizeChildren(a),void 0,void 0):null!=a&&"object"!==typeof a?u("#",void 0,void 0,a,void 0,void 0):a};u.normalizeChildren=function(a){for(var b=0;b<a.length;b++)a[b]=u.normalize(a[b]);return a};var ia=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,J={},n=function(a){if("string"===typeof a&&void 0===J[a]){for(var b,h,d=[],g={};b=ia.exec(a);){var q=b[1],l=b[2];""===q&&""!==l?h=l:"#"===q?g.id=l:"."===q?d.push(l):"["===b[3][0]&&((q=b[6])&&(q=q.replace(/\\(["'])/g,
"$1").replace(/\\\\/g,"\\")),g[b[4]]=q||!0)}0<d.length&&(g.className=d.join(" "));J[a]=function(a,b){var d=!1,k,q,m=a.className||a["class"],l;for(l in g)a[l]=g[l];void 0!==m&&(void 0!==a["class"]&&(a["class"]=void 0,a.className=m),void 0!==g.className&&(a.className=g.className+" "+m));for(l in a)if("key"!==l){d=!0;break}b instanceof Array&&1==b.length&&null!=b[0]&&"#"===b[0].tag?q=b[0].children:k=b;return u(h||"div",a.key,d?a:void 0,k,q,void 0)}}var m;null!=arguments[1]&&("object"!==typeof arguments[1]||
void 0!==arguments[1].tag||arguments[1]instanceof Array)?d=1:(m=arguments[1],d=2);if(arguments.length===d+1)b=arguments[d]instanceof Array?arguments[d]:[arguments[d]];else for(b=[];d<arguments.length;d++)b.push(arguments[d]);return"string"===typeof a?J[a](m||{},u.normalizeChildren(b)):u(a,m&&m.key,m||{},u.normalizeChildren(b),void 0,void 0)},K=function(a){function b(a,c,e,b,d,p,g){for(;e<b;e++){var k=c[e];null!=k&&f(a,h(k,d,g),p)}}function h(a,c,e){var f=a.tag;null!=a.attrs&&n(a.attrs,a,c);if("string"===
typeof f)switch(f){case "#":return a.dom=x.createTextNode(a.children);case "<":return d(a);case "[":var p=x.createDocumentFragment();null!=a.children&&(f=a.children,b(p,f,0,f.length,c,null,e));a.dom=p.firstChild;a.domSize=p.childNodes.length;return p;default:var g=a.tag;switch(a.tag){case "svg":e="http://www.w3.org/2000/svg";break;case "math":e="http://www.w3.org/1998/Math/MathML"}var k=(f=a.attrs)&&f.is,g=e?k?x.createElementNS(e,g,k):x.createElementNS(e,g):k?x.createElement(g,k):x.createElement(g);
a.dom=g;if(null!=f)for(p in k=e,f)A(a,p,null,f[p],k);null!=a.text&&(""!==a.text?g.textContent=a.text:a.children=[u("#",void 0,void 0,a.text,void 0,void 0)]);null!=a.children&&(p=a.children,b(g,p,0,p.length,c,null,e),c=a.attrs,"select"===a.tag&&null!=c&&("value"in c&&A(a,"value",null,c.value,void 0),"selectedIndex"in c&&A(a,"selectedIndex",null,c.selectedIndex,void 0)));return g}else return a.state=C(a.tag),n(a.tag,a,c),a.instance=u.normalize(a.tag.view.call(a.state,a)),null!=a.instance?(c=h(a.instance,
c,e),a.dom=a.instance.dom,a.domSize=null!=a.dom?a.instance.domSize:0,a=c):(a.domSize=0,a=ja),a}function d(a){var c={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(a.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",c=x.createElement(c);c.innerHTML=a.children;a.dom=c.firstChild;a.domSize=c.childNodes.length;a=x.createDocumentFragment();for(var e;e=c.firstChild;)a.appendChild(e);return a}function g(a,c,e,d,g,k){if(c!==e&&(null!=c||
null!=e))if(null==c)b(a,e,0,e.length,d,g,void 0);else if(null==e)p(a,c,0,c.length,e);else{var z;a:{if(null!=c.pool&&Math.abs(c.pool.length-e.length)<=Math.abs(c.length-e.length)&&(z=e[0]&&e[0].children&&e[0].children.length||0,Math.abs((c.pool[0]&&c.pool[0].children&&c.pool[0].children.length||0)-z)<=Math.abs((c[0]&&c[0].children&&c[0].children.length||0)-z))){z=!0;break a}z=!1}z&&(c=c.concat(c.pool));if(c.length===e.length&&null!=e[0]&&null==e[0].key)for(var r=0;r<c.length;r++)c[r]===e[r]||null==
c[r]&&null==e[r]||(null==c[r]?f(a,h(e[r],d,k),m(c,r+1,g)):null==e[r]?p(a,c,r,r+1,e):q(a,c[r],e[r],d,m(c,r+1,g),z,k),z&&c[r].tag===e[r].tag&&f(a,l(c[r]),m(c,r+1,g)));else{for(var A=r=0,v=c.length-1,B=e.length-1,u;v>=r&&B>=A;){var t=c[r],w=e[A];if(t===w)r++,A++;else if(null!=t&&null!=w&&t.key===w.key)r++,A++,q(a,t,w,d,m(c,r,g),z,k),z&&t.tag===w.tag&&f(a,l(t),g);else if(t=c[v],t===w)v--,A++;else if(null!=t&&null!=w&&t.key===w.key)q(a,t,w,d,m(c,v+1,g),z,k),f(a,l(t),m(c,r,g)),v--,A++;else break}for(;v>=
r&&B>=A;){t=c[v];w=e[B];if(t===w)v--;else if(null!=t&&null!=w&&t.key===w.key)q(a,t,w,d,m(c,v+1,g),z,k),z&&t.tag===w.tag&&f(a,l(t),g),null!=t.dom&&(g=t.dom),v--;else{if(!u){u=c;var t=v,n={},x;for(x=0;x<t;x++){var y=u[x];null!=y&&(y=y.key,null!=y&&(n[y]=x))}u=n}null!=w&&(t=u[w.key],null!=t?(n=c[t],q(a,n,w,d,m(c,v+1,g),z,k),f(a,l(n),g),c[t].skip=!0,null!=n.dom&&(g=n.dom)):(w=h(w,d,void 0),f(a,w,g),g=w))}B--;if(B<A)break}b(a,e,A,B+1,d,g,k);p(a,c,r,v+1,e)}}}function q(a,c,e,b,k,p,m){var r=c.tag;if(r===
e.tag){e.state=c.state;e.events=c.events;var v;var B;null!=e.attrs&&"function"===typeof e.attrs.onbeforeupdate&&(v=e.attrs.onbeforeupdate.call(e.state,e,c));"string"!==typeof e.tag&&"function"===typeof e.tag.onbeforeupdate&&(B=e.tag.onbeforeupdate.call(e.state,e,c));void 0===v&&void 0===B||v||B?v=!1:(e.dom=c.dom,e.domSize=c.domSize,e.instance=c.instance,v=!0);if(!v)if(null!=e.attrs&&y(e.attrs,e,b,p),"string"===typeof r)switch(r){case "#":c.children.toString()!==e.children.toString()&&(c.dom.nodeValue=
e.children);e.dom=c.dom;break;case "<":c.children!==e.children?(l(c),f(a,d(e),k)):(e.dom=c.dom,e.domSize=c.domSize);break;case "[":g(a,c.children,e.children,b,k,m);c=0;b=e.children;e.dom=null;if(null!=b){for(var n=0;n<b.length;n++)a=b[n],null!=a&&null!=a.dom&&(null==e.dom&&(e.dom=a.dom),c+=a.domSize||1);1!==c&&(e.domSize=c)}break;default:a=m;k=e.dom=c.dom;switch(e.tag){case "svg":a="http://www.w3.org/2000/svg";break;case "math":a="http://www.w3.org/1998/Math/MathML"}"textarea"===e.tag&&(null==e.attrs&&
(e.attrs={}),null!=e.text&&(e.attrs.value=e.text));p=c.attrs;m=e.attrs;r=a;if(null!=m)for(n in m)A(e,n,p&&p[n],m[n],r);if(null!=p)for(n in p)null!=m&&n in m||"key"!==n&&e.dom.removeAttribute(n);null!=c.text&&null!=e.text&&""!==e.text?c.text.toString()!==e.text.toString()&&(c.dom.firstChild.nodeValue=e.text):(null!=c.text&&(c.children=[u("#",void 0,void 0,c.text,void 0,c.dom.firstChild)]),null!=e.text&&(e.children=[u("#",void 0,void 0,e.text,void 0,void 0)]),g(k,c.children,e.children,b,null,a))}else e.instance=
u.normalize(e.tag.view.call(e.state,e)),y(e.tag,e,b,p),null!=e.instance?(null==c.instance?f(a,h(e.instance,b,m),k):q(a,c.instance,e.instance,b,k,p,m),e.dom=e.instance.dom,e.domSize=e.instance.domSize):null!=c.instance?(z(a,c.instance,null,!1),e.dom=void 0,e.domSize=0):(e.dom=c.dom,e.domSize=c.domSize)}else z(a,c,null,!1),f(a,h(e,b,void 0),k)}function l(a){var c=a.domSize;if(null!=c||null==a.dom){var e=x.createDocumentFragment();if(0<c){for(a=a.dom;--c;)e.appendChild(a.nextSibling);e.insertBefore(a,
e.firstChild)}return e}return a.dom}function m(a,c,e){for(;c<a.length;c++)if(null!=a[c]&&null!=a[c].dom)return a[c].dom;return e}function f(a,c,e){e&&e.parentNode?a.insertBefore(c,e):a.appendChild(c)}function p(a,c,e,b,f){for(;e<b;e++){var d=c[e];null!=d&&(d.skip?d.skip=void 0:z(a,d,f,!1))}}function z(a,c,e,b){if(!1===b){var f=0,d=0;b=function(){++d===f&&z(a,c,e,!0)};c.attrs&&c.attrs.onbeforeremove&&(f++,c.attrs.onbeforeremove.call(c.state,c,b));"string"!==typeof c.tag&&c.tag.onbeforeremove&&(f++,
c.tag.onbeforeremove.call(c.state,c,b));if(0<f)return}k(c);if(c.dom){b=c.domSize||1;if(1<b)for(var g=c.dom;--b;)a.removeChild(g.nextSibling);null!=c.dom.parentNode&&a.removeChild(c.dom);null==e||null!=c.domSize||v(c.attrs)||"string"!==typeof c.tag||(e.pool?e.pool.push(c):e.pool=[c])}}function k(a){a.attrs&&a.attrs.onremove&&a.attrs.onremove.call(a.state,a);"string"!==typeof a.tag&&a.tag.onremove&&a.tag.onremove.call(a.state,a);if(null!=a.instance)k(a.instance);else if(a=a.children,a instanceof Array)for(var c=
0;c<a.length;c++){var b=a[c];null!=b&&k(b)}}function A(a,c,b,f,d){var g=a.dom;if("key"!==c&&(b!==f||"value"===c||"checked"===c||"selectedIndex"===c||"selected"===c&&a.dom===x.activeElement||"object"===typeof f)&&"undefined"!==typeof f&&"oninit"!==c&&"oncreate"!==c&&"onupdate"!==c&&"onremove"!==c&&"onbeforeremove"!==c&&"onbeforeupdate"!==c){var k=c.indexOf(":");if(-1<k&&"xlink"===c.substr(0,k))g.setAttributeNS("http://www.w3.org/1999/xlink",c.slice(k+1),f);else if("o"===c[0]&&"n"===c[1]&&"function"===
typeof f)B(a,c,f);else if("style"===c)if(a=b,a===f&&(g.cssText="",a=null),null==f)g.cssText="";else if("string"===typeof f)g.cssText=f;else{"string"===typeof a&&(g.cssText="");for(var p in f)g.style[p]=f[p];if(null!=a&&"string"!==typeof a)for(p in a)p in f||(g.style[p]="")}else if(c in g&&"href"!==c&&"list"!==c&&"form"!==c&&void 0===d){if("input"!==a.tag||"value"!==c||a.dom.value!==f||a.dom!==x.activeElement)g[c]=f}else"boolean"===typeof f?f?g.setAttribute(c,""):g.removeAttribute(c):g.setAttribute("className"===
c?"class":c,f)}}function v(a){return null!=a&&(a.oncreate||a.onupdate||a.onbeforeremove||a.onremove)}function B(a,c,f){var b=a.dom,g=function(a){a=f.call(b,a);"function"===typeof D&&D.call(b,a);return a};if(c in b)b[c]=g;else{var d=c.slice(2);void 0===a.events&&(a.events={});null!=a.events[c]&&b.removeEventListener(d,a.events[c],!1);a.events[c]=g;b.addEventListener(d,a.events[c],!1)}}function n(a,c,b){"function"===typeof a.oninit&&a.oninit.call(c.state,c);"function"===typeof a.oncreate&&b.push(a.oncreate.bind(c.state,
c))}function y(a,c,b,f){f?n(a,c,b):"function"===typeof a.onupdate&&b.push(a.onupdate.bind(c.state,c))}function C(a){if(a instanceof Array){for(var c=[],b=0;b<a.length;b++)c[b]=a[b];return c}if("object"===typeof a){c={};for(b in a)c[b]=a[b];return c}return a}var x=a.document,ja=x.createDocumentFragment(),D;return{render:function(a,c){var b=[],f=x.activeElement;null==a.vnodes&&(a.vnodes=[],a.textContent="");c instanceof Array||(c=[c]);g(a,a.vnodes,u.normalizeChildren(c),b,null,void 0);a.vnodes=c;for(var d=
0;d<b.length;d++)b[d]();x.activeElement!==f&&f.focus()},setEventCallback:function(a){return D=a}}}(window),L=function(a){function b(a,d){if(d instanceof Array)for(var l=0;l<d.length;l++)b(a+"["+l+"]",d[l]);else if("[object Object]"===Object.prototype.toString.call(d))for(l in d)b(a+"["+l+"]",d[l]);else h.push(encodeURIComponent(a)+(null!=d&&""!==d?"="+encodeURIComponent(d):""))}if("[object Object]"!==Object.prototype.toString.call(a))return"";var h=[],d;for(d in a)b(d,a[d]);return h.join("&")},M=
function(a){function b(a,b){if(null==b)return a;for(var d=a.match(/:[^\/]+/gi)||[],g=0;g<d.length;g++){var h=d[g].slice(1);null!=b[h]&&(a=a.replace(d[g],b[h]),delete b[h])}return a}function h(a,b){var d=L(b);if(""!==d){var g=0>a.indexOf("?")?"?":"&";a+=g+d}return a}function d(a){try{return""!==a?JSON.parse(a):null}catch(b){throw Error(a);}}function g(a){return a.responseText}function q(a,b){if("function"===typeof a)if(b instanceof Array)for(var d=0;d<b.length;d++)b[d]=new a(b[d]);else return new a(b);
return b}var l=0,m;return{xhr:function(f){var p=C.stream();void 0!==f.initialValue&&p(f.initialValue);var l="boolean"===typeof f.useBody?f.useBody:"GET"!==f.method&&"TRACE"!==f.method;"function"!==typeof f.serialize&&(f.serialize="undefined"!==typeof FormData&&f.data instanceof FormData?function(a){return a}:JSON.stringify);"function"!==typeof f.deserialize&&(f.deserialize=d);"function"!==typeof f.extract&&(f.extract=g);f.url=b(f.url,f.data);l?f.data=f.serialize(f.data):f.url=h(f.url,f.data);var k=
new a.XMLHttpRequest;k.open(f.method,f.url,"boolean"===typeof f.async?f.async:!0,"string"===typeof f.user?f.user:void 0,"string"===typeof f.password?f.password:void 0);f.serialize===JSON.stringify&&l&&k.setRequestHeader("Content-Type","application/json; charset=utf-8");f.deserialize===d&&k.setRequestHeader("Accept","application/json, text/*");"function"===typeof f.config&&(k=f.config(k,f)||k);k.onreadystatechange=function(){if(4===k.readyState){try{var a=f.extract!==g?f.extract(k,f):f.deserialize(f.extract(k,
f));if(200<=k.status&&300>k.status)p(q(f.type,a));else{var b=Error(k.responseText),d;for(d in a)b[d]=a[d];p.error(b)}}catch(h){p.error(h)}"function"===typeof m&&m()}};l?k.send(f.data):k.send();return p},jsonp:function(f){var d=C.stream();void 0!==f.initialValue&&d(f.initialValue);var g=f.callbackName||"_mithril_"+Math.round(1E16*Math.random())+"_"+l++,k=a.document.createElement("script");a[g]=function(b){k.parentNode.removeChild(k);d(q(f.type,b));"function"===typeof m&&m();delete a[g]};k.onerror=
function(){k.parentNode.removeChild(k);d.error(Error("JSONP request failed"));"function"===typeof m&&m();delete a[g]};null==f.data&&(f.data={});f.url=b(f.url,f.data);f.data[f.callbackKey||"callback"]=g;k.src=h(f.url,f.data);a.document.documentElement.appendChild(k);return d},setCompletionCallback:function(a){m=a}}}(window),H=function(){var a=[];return{subscribe:a.push.bind(a),unsubscribe:function(b){b=a.indexOf(b);-1<b&&a.splice(b,1)},publish:function(){for(var b=0;b<a.length;b++)a[b].apply(this,
arguments)}}}();M.setCompletionCallback(H.publish);var Y=function(a){if(""===a||null==a)return{};"?"===a.charAt(0)&&(a=a.slice(1));a=a.split("&");for(var b={},h={},d=0;d<a.length;d++){var g=a[d].split("="),q=decodeURIComponent(g[0]),g=2===g.length?decodeURIComponent(g[1]):"",l=Number(g);""!==g&&!isNaN(l)||"NaN"===g?g=l:"true"===g?g=!0:"false"===g?g=!1:(l=new Date(g),isNaN(l.getTime())||(g=l));var l=q.split(/\]\[?|\[/),m=b;-1<q.indexOf("[")&&l.pop();for(var f=0;f<l.length;f++){var q=l[f],p=l[f+1],
p=""==p||!isNaN(parseInt(p,10)),n=f===l.length-1;""===q&&(q=l.slice(0,f).join(),null==h[q]&&(h[q]=0),q=h[q]++);null==m[q]&&(m[q]=n?g:p?[]:{});m=m[q]}}return b},ka=function(a){function b(b){var d=a.location[b].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);"pathname"===b&&"/"!==d[0]&&(d="/"+d);return d}function h(a,b,d){var g=a.indexOf("?"),h=a.indexOf("#"),m=-1<g?g:-1<h?h:a.length;if(-1<g){var g=Y(a.slice(g+1,-1<h?h:a.length)),l;for(l in g)b[l]=g[l]}if(-1<h)for(l in b=Y(a.slice(h+1)),b)d[l]=
b[l];return a.slice(0,m)}function d(){switch(m.charAt(0)){case "#":return b("hash").slice(m.length);case "?":return b("search").slice(m.length)+b("hash");default:return b("pathname").slice(m.length)+b("search")+b("hash")}}function g(b,d,g){var k={},l={};b=h(b,k,l);if(null!=d){for(var n in d)k[n]=d[n];b=b.replace(/:([^\/]+)/g,function(a,b){delete k[b];return d[b]})}(n=L(k))&&(b+="?"+n);(l=L(l))&&(b+="#"+l);q?(g&&g.replace?a.history.replaceState(null,null,m+b):a.history.pushState(null,null,m+b),a.onpopstate()):
a.location.href=m+b}var q="function"===typeof a.history.pushState,l="function"===typeof setImmediate?setImmediate:setTimeout,m="#!";return{setPrefix:function(a){m=a},getPath:d,setPath:g,defineRoutes:function(b,g,n){function k(){var a=d(),k={},m=h(a,k,k);l(function(){for(var d in b){var h=new RegExp("^"+d.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(h.test(m)){m.replace(h,function(){for(var h=d.match(/:[^\/]+/g)||[],l=[].slice.call(arguments,1,-2),m=0;m<h.length;m++)k[h[m].replace(/:|\./g,
"")]=decodeURIComponent(l[m]);g(b[d],k,a,d)});return}}n(a,k)})}q?a.onpopstate=k:"#"===m.charAt(0)&&(a.onhashchange=k);k();return k},link:function(a){a.dom.setAttribute("href",m+a.attrs.href);a.dom.onclick=function(b){b.preventDefault();g(a.attrs.href,void 0,void 0);return!1}}}},la=function(a){var b=0,h=null,d="function"===typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(g){var n=Date.now();!0===g||0===b||16<=n-b?(b=n,a()):null===h&&(h=d(function(){h=null;a();b=Date.now()},
16-(n-b)))}},Z=function(a,b,h,d){d=la(d);null!=b&&b.setEventCallback(function(a){!1!==a&&h.publish()});null!=h&&(a.redraw&&h.unsubscribe(a.redraw),h.subscribe(d));return a.redraw=d};n.route=function(a,b,h){var d=ka(a);a=function(a,n,l){var m=null,f=null;l=d.defineRoutes(l,function(d,h,k,l){if("function"!==typeof d.view){"function"!==typeof d.render&&(d.render=function(a){return a});var n=function(l){m=k;f=l;b.render(a,d.render(u(l,null,h,void 0,void 0,void 0)))};"function"!==typeof d.resolve&&(d.resolve=
function(){n(f)});k!==m?d.resolve(n,h,k,l):n(f)}else b.render(a,u(d,null,h,void 0,void 0,void 0))},function(){d.setPath(n,null,{replace:!0})});Z(a,b,h,l)};a.link=d.link;a.prefix=d.setPrefix;a.set=d.setPath;a.get=d.getPath;return a}(window,K,H);var ma={view:function(){}};n.mount=function(a,b){return function(h,d){b.unsubscribe(h.redraw);Z(h,a,b,function(){a.render(h,u(null===d?ma:d,void 0,void 0,void 0,void 0,void 0))})();null===d&&(b.unsubscribe(h.redraw),delete h.redraw)}}(K,H);n.trust=function(a){return u("<",
void 0,void 0,a,void 0,void 0)};n.withAttr=function(a,b,h){return function(d){return b.call(h||this,a in d.currentTarget?d.currentTarget[a]:d.currentTarget.getAttribute(a))}};n.prop=C.stream;n.prop.combine=C.combine;n.prop.reject=C.reject;n.prop.merge=C.merge;n.prop.HALT=C.HALT;n.render=K.render;n.redraw=H.publish;n.request=M.xhr;n.jsonp=M.jsonp;n.version="1.0.0";"undefined"!==typeof module?module.exports=n:window.m=n};