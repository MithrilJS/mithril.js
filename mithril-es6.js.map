{"version":3,"file":"mithril-es6.js","sources":["../P:/GitHub/mithril.js/src/with-attr.js","../P:/GitHub/mithril.js/src/trust.js","../P:/GitHub/mithril.js/src/_types.js","../P:/GitHub/mithril.js/src/prop.js","../P:/GitHub/mithril.js/src/_env.js","../P:/GitHub/mithril.js/src/_iterate.js","../P:/GitHub/mithril.js/src/_util.js","../P:/GitHub/mithril.js/src/_dom.js","../P:/GitHub/mithril.js/src/_build-object.js","../P:/GitHub/mithril.js/src/_build.js","../P:/GitHub/mithril.js/src/render.js","../P:/GitHub/mithril.js/src/redraw.js","../P:/GitHub/mithril.js/src/computation.js","../P:/GitHub/mithril.js/src/deferred.js","../P:/GitHub/mithril.js/src/sync.js","../P:/GitHub/mithril.js/src/_query-string.js","../P:/GitHub/mithril.js/src/mount.js","../P:/GitHub/mithril.js/src/route.js","../P:/GitHub/mithril.js/src/request.js","../P:/GitHub/mithril.js/src/deps.js","../P:/GitHub/mithril.js/src/parse.js","../P:/GitHub/mithril.js/src/component.js","../P:/GitHub/mithril.js/src/mithril.js"],"sourcesContent":["function withAttr(prop, withAttrCallback, callbackThis) {\r\n    return function(e) {\r\n        e = e || event;\r\n        var currentTarget = e.currentTarget || this;\r\n        var _this = callbackThis || this;\r\n        withAttrCallback.call(_this, prop in currentTarget ? currentTarget[prop] : currentTarget.getAttribute(prop));\r\n    };\r\n}\r\n\r\nexport {withAttr};\r\n","function trust(value) {\r\n    /*eslint no-new-wrapper:0 */\r\n    value = new String(value);\r\n    value.$trusted = true;\r\n    return value;\r\n}\r\n\r\nexport {trust};\r\n","var type = {}.toString;\r\n\r\nfunction isFunction(object) {\r\n    return typeof object === \"function\";\r\n}\r\n\r\nfunction isObject(object) {\r\n    return type.call(object) === \"[object Object]\";\r\n}\r\n\r\nfunction isString(object) {\r\n    return type.call(object) === \"[object String]\";\r\n}\r\n\r\nvar isArray = Array.isArray || function(object) {\r\n    return type.call(object) === \"[object Array]\";\r\n}\r\n\r\nexport {type, isFunction, isObject, isString, isArray};\r\n","import {isObject, isFunction} from \"./_types.js\";\r\n\r\nfunction gettersetter(store) {\r\n    var val = function() {\r\n        if (arguments.length) store = arguments[0];\r\n        return store;\r\n    };\r\n\r\n    val.toJSON = function() {\r\n        return store;\r\n    };\r\n\r\n    return val;\r\n}\r\n\r\nfunction prop(store) {\r\n    //note: using non-strict equality check here because we're checking if store is null OR undefined\r\n    if ((store != null && isObject(store) || isFunction(store)) && isFunction(store.then)) {\r\n        return propify(store);\r\n    }\r\n\r\n    return gettersetter(store);\r\n}\r\n\r\nfunction propify(promise, initialValue) {\r\n    var local = prop(initialValue);\r\n    promise.then(local);\r\n    local.then = function(resolve, reject) {\r\n        return propify(promise.then(resolve, reject), initialValue);\r\n    };\r\n    local[\"catch\"] = local.then.bind(null, null);\r\n    return local;\r\n}\r\n\r\nexport {prop, propify}\r\n","var $document,\r\n    $location,\r\n    $cancelAnimationFrame,\r\n    $requestAnimationFrame;\r\n\r\nfunction initialize(window) {\r\n    $document = window.document;\r\n    $location = window.location;\r\n    $cancelAnimationFrame = window.cancelAnimationFrame || window.clearTimeout;\r\n    $requestAnimationFrame = window.requestAnimationFrame || window.setTimeout;\r\n}\r\n\r\nexport {\r\n    initialize,\r\n    $document,\r\n    $location,\r\n    $requestAnimationFrame,\r\n    $cancelAnimationFrame\r\n};\r\n","import {isArray} from \"./_types.js\";\r\n\r\nfunction forEach(list, f) {\r\n    /*eslint no-empty:0 */\r\n    for (var i = 0; i < list.length && !f(list[i], i++);) {}\r\n}\r\n\r\nfunction forKeys(list, f) {\r\n    forEach(list, function(attrs, i) {\r\n        return (attrs = attrs && attrs.attrs) && attrs.key != null && f(attrs, i);\r\n    });\r\n}\r\n\r\nfunction flatten(list) {\r\n    //recursively flatten array\r\n    for (var i = 0; i < list.length; i++) {\r\n        if (isArray(list[i])) {\r\n            list = list.concat.apply([], list);\r\n            //check current index again and flatten until there are no more nested arrays at that index\r\n            i--;\r\n        }\r\n    }\r\n    return list;\r\n}\r\n\r\nexport {forEach, forKeys, flaten};\r\n","var encode = encodeURIComponent,\r\n    decode = decodeURIComponent;\r\n\r\nfunction noop() {}\r\n\r\nexport {noop, encode, decode};\r\n","import {noop} from \"./_util.js\";\r\nimport {isFunction, isArray} from \"./_types.js\";\r\nimport {$document} from \"./_env.js\";\r\nimport {forEach} from \"./_iterate.js\";\r\nimport {redraw} from \"./redraw\";\r\nimport {start, end} from \"./computation.js\";\r\n\r\nvar roots = [],\r\n    components = [],\r\n    controllers = [],\r\n    unloaders = [],\r\n    nodeCache = [],\r\n    cellCache = {},\r\n    html,\r\n    documentNode;\r\n\r\ndocumentNode = {\r\n    appendChild: function(node) {\r\n        if (html === undefined) html = $document.createElement(\"html\");\r\n        if ($document.documentElement && $document.documentElement !== node) {\r\n            $document.replaceChild(node, $document.documentElement);\r\n        }\r\n        else $document.appendChild(node);\r\n        this.childNodes = $document.childNodes;\r\n    },\r\n    insertBefore: function(node) {\r\n        this.appendChild(node);\r\n    },\r\n    childNodes: []\r\n};\r\n\r\nfunction insertNode(parentElement, node, index) {\r\n    parentElement.insertBefore(node, parentElement.childNodes[index] || null);\r\n}\r\n\r\nfunction injectHTML(parentElement, index, data) {\r\n    var nextSibling = parentElement.childNodes[index];\r\n    if (nextSibling) {\r\n        var isElement = nextSibling.nodeType !== 1;\r\n        var placeholder = $document.createElement(\"span\");\r\n        if (isElement) {\r\n            parentElement.insertBefore(placeholder, nextSibling || null);\r\n            placeholder.insertAdjacentHTML(\"beforebegin\", data);\r\n            parentElement.removeChild(placeholder);\r\n        }\r\n        else nextSibling.insertAdjacentHTML(\"beforebegin\", data);\r\n    }\r\n    else {\r\n        if (window.Range && window.Range.prototype.createContextualFragment) {\r\n            parentElement.appendChild($document.createRange().createContextualFragment(data));\r\n        }\r\n        else {\r\n            parentElement.insertAdjacentHTML(\"beforeend\", data);\r\n        }\r\n    }\r\n    var nodes = [];\r\n    while (parentElement.childNodes[index] !== nextSibling) {\r\n        nodes.push(parentElement.childNodes[index]);\r\n        index++;\r\n    }\r\n    return nodes;\r\n}\r\n\r\nfunction injectTextNode(parentElement, first, index, data) {\r\n    try {\r\n        insertNode(parentElement, first, index);\r\n        first.nodeValue = data;\r\n    }\r\n    catch (e) {\r\n        //IE erroneously throws error when appending an empty text node after a null\r\n        //eslint-disable-line\r\n    }\r\n}\r\n\r\nfunction unload(cached) {\r\n    if (cached.configContext && isFunction(cached.configContext.onunload)) {\r\n        cached.configContext.onunload();\r\n        cached.configContext.onunload = null;\r\n    }\r\n    if (cached.controllers) {\r\n        forEach(cached.controllers, function(controller) {\r\n            if (isFunction(controller.onunload)) controller.onunload({preventDefault: noop});\r\n        });\r\n    }\r\n    if (cached.children) {\r\n        if (isArray(cached.children)) forEach(cached.children, unload);\r\n        else if (cached.children.tag) unload(cached.children);\r\n    }\r\n}\r\n\r\nfunction clear(nodes, cached) {\r\n    for (var i = nodes.length - 1; i > -1; i--) {\r\n        if (nodes[i] && nodes[i].parentNode) {\r\n            try { nodes[i].parentNode.removeChild(nodes[i]); }\r\n            catch (e) {\r\n                //ignore if this fails due to order of events\r\n                //(see http://stackoverflow.com/questions/21926083/failed-to-execute-removechild-on-node)\r\n                //eslint-disable-line\r\n            }\r\n            cached = [].concat(cached);\r\n            if (cached[i]) unload(cached[i]);\r\n        }\r\n    }\r\n    //release memory if nodes is an array. This check should fail if nodes is a NodeList (see loop above)\r\n    if (nodes.length) nodes.length = 0;\r\n}\r\n\r\nfunction getCellCacheKey(element) {\r\n    var index = nodeCache.indexOf(element);\r\n    return index < 0 ? nodeCache.push(element) - 1 : index;\r\n}\r\n\r\nfunction reset(root) {\r\n    var cacheKey = getCellCacheKey(root);\r\n    clear(root.childNodes, cellCache[cacheKey]);\r\n    cellCache[cacheKey] = undefined;\r\n}\r\n\r\nfunction removeRootElement(root, index) {\r\n    roots.splice(index, 1);\r\n    controllers.splice(index, 1);\r\n    components.splice(index, 1);\r\n    reset(root);\r\n    nodeCache.splice(getCellCacheKey(root), 1);\r\n}\r\n\r\nfunction clearUnloaders() {\r\n    unloaders = [];\r\n}\r\n\r\nfunction autoredraw(callback, object) {\r\n    return function(e) {\r\n        e = e || event;\r\n        redraw.strategy(\"diff\");\r\n        start();\r\n        try { return callback.call(object, e); }\r\n        finally {\r\n            end();\r\n        }\r\n    };\r\n}\r\n\r\nexport {\r\n    roots,\r\n    controllers,\r\n    components,\r\n    unloaders,\r\n    unload,\r\n    clear,\r\n    getCellCacheKey,\r\n    reset,\r\n    removeRootElement,\r\n    clearUnloaders,\r\n    nodeCache,\r\n    cellCache,\r\n    documentNode,\r\n    insertNode,\r\n    injectHTML,\r\n    injectTextNode,\r\n    autoredraw\r\n};\r\n","import {noop} from \"./_util.js\";\r\nimport {forEach} from \"./_iterate.js\";\r\nimport {isFunction, isString, isObject} from \"./_types.js\";\r\nimport {$document} from \"./_env.js\";\r\nimport {redraw, forcing} from \"./redraw.js\";\r\nimport {pendingRequests} from \"./computation.js\";\r\nimport {clear, unloaders, insertNode, autoredraw} from \"./_dom.js\";\r\nimport {build} from \"./_build.js\";\r\n\r\nfunction getController(views, view, cachedControllers, controller) {\r\n    var controllerIndex = redraw.strategy() === \"diff\" && views ? views.indexOf(view) : -1;\r\n\r\n    if (controllerIndex > -1) {\r\n        return cachedControllers[controllerIndex];\r\n    }\r\n\r\n    return typeof controller === \"function\" ? new controller() : {};\r\n}\r\n\r\nfunction updateLists(views, controllers, view, controller) {\r\n    if (controller.onunload != null) unloaders.push({controller: controller, handler: controller.onunload});\r\n    views.push(view);\r\n    controllers.push(controller);\r\n}\r\n\r\nfunction checkView(data, view, cached, cachedControllers, controllers, views) {\r\n    var controller = getController(cached.views, view, cachedControllers, data.controller);\r\n    //Faster to coerce to number and check for NaN\r\n    var key = +(data && data.attrs && data.attrs.key);\r\n\r\n    if (pendingRequests === 0 || forcing || cachedControllers && cachedControllers.indexOf(controller) > -1) {\r\n        data = data.view(controller);\r\n    }\r\n    else data = {tag: \"placeholder\"};\r\n\r\n    if (data.subtree === \"retain\") return data;\r\n    if (key === key) (data.attrs = data.attrs || {}).key = key;\r\n    updateLists(views, controllers, view, controller);\r\n    return data;\r\n}\r\n\r\nfunction markViews(data, cached, views, controllers) {\r\n    var cachedControllers = cached && cached.controllers;\r\n    while (data.view != null) {\r\n        data = checkView(data, data.view.$original || data.view, cached, cachedControllers, controllers, views);\r\n    }\r\n    return data;\r\n}\r\n\r\nfunction maybeRecreateObject(data, cached, dataAttrKeys) {\r\n    //if an element is different enough from the one in cache, recreate it\r\n    if (data.tag !== cached.tag ||\r\n            dataAttrKeys.sort().join() !== Object.keys(cached.attrs).sort().join() ||\r\n            data.attrs.id !== cached.attrs.id ||\r\n            data.attrs.key !== cached.attrs.key ||\r\n            (redraw.strategy() === \"all\" && (!cached.configContext || cached.configContext.retain !== true)) ||\r\n            (redraw.strategy() === \"diff\" && cached.configContext && cached.configContext.retain === false)) {\r\n        if (cached.nodes.length) clear(cached.nodes);\r\n        if (cached.configContext && isFunction(cached.configContext.onunload)) cached.configContext.onunload();\r\n        if (cached.controllers) {\r\n            forEach(cached.controllers, function(controller) {\r\n                if (controller.unload) controller.onunload({preventDefault: noop});\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nfunction getObjectNamespace(data, namespace) {\r\n    return data.attrs.xmlns ? data.attrs.xmlns :\r\n        data.tag === \"svg\" ? \"http://www.w3.org/2000/svg\" :\r\n        data.tag === \"math\" ? \"http://www.w3.org/1998/Math/MathML\" :\r\n        namespace;\r\n}\r\n\r\nfunction constructNode(data, namespace) {\r\n    if (namespace === undefined) {\r\n        return data.attrs.is ?\r\n            $document.createElement(data.tag, data.attrs.is) :\r\n            $document.createElement(data.tag);\r\n    }\r\n\r\n    return data.attrs.is ?\r\n        $document.createElementNS(namespace, data.tag, data.attrs.is) :\r\n        $document.createElementNS(namespace, data.tag);\r\n}\r\n\r\nfunction setAttributes(node, tag, dataAttrs, cachedAttrs, namespace) {\r\n    /*eslint max-depth:0 */\r\n    var rule;\r\n\r\n    for (var attrName in dataAttrs) {\r\n        var dataAttr = dataAttrs[attrName];\r\n        var cachedAttr = cachedAttrs[attrName];\r\n        if (!(attrName in cachedAttrs) || (cachedAttr !== dataAttr)) {\r\n            cachedAttrs[attrName] = dataAttr;\r\n            try {\r\n                //`config` isn't a real attributes, so ignore it\r\n                if (attrName === \"config\" || attrName === \"key\") continue;\r\n                //hook event handlers to the auto-redrawing system\r\n                else if (isFunction(dataAttr) && attrName.slice(0, 2) === \"on\") {\r\n                    node[attrName] = autoredraw(dataAttr, node);\r\n                }\r\n                //handle `style: {...}`\r\n                else if (attrName === \"style\" && dataAttr != null && isObject(dataAttr)) {\r\n                    for (rule in dataAttr) {\r\n                        if (cachedAttr == null || cachedAttr[rule] !== dataAttr[rule]) {\r\n                            node.style[rule] = dataAttr[rule];\r\n                        }\r\n                    }\r\n                    for (rule in cachedAttr) {\r\n                        if (!(rule in dataAttr)) {\r\n                            node.style[rule] = \"\";\r\n                        }\r\n                    }\r\n                }\r\n                //handle SVG\r\n                else if (namespace != null) {\r\n                    if (attrName === \"href\") node.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", dataAttr);\r\n                    else node.setAttribute(attrName === \"className\" ? \"class\" : attrName, dataAttr);\r\n                }\r\n                //handle cases that are properties (but ignore cases where we should use setAttribute instead)\r\n                //- list and form are typically used as strings, but are DOM element references in js\r\n                //- when using CSS selectors (e.g. `m(\"[style='']\")`), style is used as a string, but it's an object in js\r\n                else if (attrName in node &&\r\n                         attrName !== \"list\" &&\r\n                         attrName !== \"style\" &&\r\n                         attrName !== \"form\" &&\r\n                         attrName !== \"type\" &&\r\n                         attrName !== \"width\" &&\r\n                         attrName !== \"height\") {\r\n                    //#348 don't set the value if not needed otherwise cursor placement breaks in Chrome\r\n                    if (tag !== \"input\" || node[attrName] !== dataAttr) node[attrName] = dataAttr;\r\n                }\r\n                else node.setAttribute(attrName, dataAttr);\r\n            }\r\n            catch (e) {\r\n                //swallow IE's invalid argument errors to mimic HTML's\r\n                //fallback-to-doing-nothing-on-invalid-attributes behavior\r\n                if (e.message.indexOf(\"Invalid argument\") < 0) throw e;\r\n            }\r\n        }\r\n        //#348 dataAttr may not be a string, so use loose comparison (double equal) instead of strict (triple equal)\r\n        else if (attrName === \"value\" && tag === \"input\" && node.value != dataAttr) { //eslint-disable-line eqeqeq\r\n            node.value = dataAttr;\r\n        }\r\n    }\r\n    return cachedAttrs;\r\n}\r\n\r\nfunction constructAttrs(data, node, namespace, hasKeys) {\r\n    return hasKeys ? setAttributes(node, data.tag, data.attrs, {}, namespace) : data.attrs;\r\n}\r\n\r\nfunction constructChildren(data, node, cached, editable, namespace, configs) {\r\n    return data.children != null && data.children.length > 0 ?\r\n        build(\r\n            node,\r\n            data.tag,\r\n            undefined,\r\n            undefined,\r\n            data.children,\r\n            cached.children,\r\n            true,\r\n            0,\r\n            data.attrs.contenteditable ? node : editable,\r\n            namespace,\r\n            configs\r\n        ) :\r\n        data.children;\r\n}\r\n\r\nfunction unloadCachedControllers(cached, views, controllers) {\r\n    if (controllers.length) {\r\n        cached.views = views;\r\n        cached.controllers = controllers;\r\n        forEach(controllers, function(controller) {\r\n            if (controller.onunload && controller.onunload.$old) controller.onunload = controller.onunload.$old;\r\n            if (pendingRequests && controller.onunload) {\r\n                var onunload = controller.onunload;\r\n                controller.onunload = noop;\r\n                controller.onunload.$old = onunload;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction reconstructCached(data, attrs, children, node, namespace, views, controllers) {\r\n    var cached = {tag: data.tag, attrs: attrs, children: children, nodes: [node]};\r\n    unloadCachedControllers(cached, views, controllers);\r\n    if (cached.children && !cached.children.nodes) cached.children.nodes = [];\r\n    //edge case: setting value on <select> doesn't work before children exist,\r\n    //so set it again after children have been created\r\n    if (data.tag === \"select\" && \"value\" in data.attrs) {\r\n        setAttributes(node, data.tag, {value: data.attrs.value}, {}, namespace);\r\n    }\r\n    return cached\r\n}\r\n\r\nfunction buildUpdatedNode(cached, data, editable, hasKeys, namespace, views, configs, controllers) {\r\n    var node = cached.nodes[0];\r\n    if (hasKeys) setAttributes(node, data.tag, data.attrs, cached.attrs, namespace);\r\n    cached.children = build(\r\n        node,\r\n        data.tag,\r\n        undefined,\r\n        undefined,\r\n        data.children,\r\n        cached.children,\r\n        false,\r\n        0,\r\n        data.attrs.contenteditable ? node : editable,\r\n        namespace,\r\n        configs\r\n    );\r\n    cached.nodes.intact = true;\r\n\r\n    if (controllers.length) {\r\n        cached.views = views;\r\n        cached.controllers = controllers;\r\n    }\r\n\r\n    return node;\r\n}\r\n\r\nfunction scheduleConfigsToBeCalled(configs, data, node, isNew, cached) {\r\n    //schedule configs to be called. They are called after `build`\r\n    //finishes running\r\n    if (isFunction(data.attrs.config)) {\r\n        var context = cached.configContext = cached.configContext || {};\r\n\r\n        //bind\r\n        configs.push(function() {\r\n            return data.attrs.config.call(data, node, !isNew, context, cached);\r\n        });\r\n    }\r\n}\r\n\r\nfunction buildObject(data, cached, editable, parentElement, index, shouldReattach, namespace, configs) {\r\n    /*eslint max-statements:[2, 23] */\r\n    var views = [], controllers = [];\r\n    data = markViews(data, cached, views, controllers);\r\n    if (data.subtree === \"retain\") return cached;\r\n    if (!data.tag && controllers.length) {\r\n        throw new Error(\"Component template must return a virtual element, not an array, string, etc.\");\r\n    }\r\n    data.attrs = data.attrs || {};\r\n    cached.attrs = cached.attrs || {};\r\n    var dataAttrKeys = Object.keys(data.attrs);\r\n    var hasKeys = dataAttrKeys.length > (\"key\" in data.attrs ? 1 : 0);\r\n    maybeRecreateObject(data, cached, dataAttrKeys);\r\n    if (!isString(data.tag)) return;\r\n    var isNew = cached.nodes.length === 0;\r\n    namespace = getObjectNamespace(data, namespace);\r\n    var node;\r\n    if (isNew) {\r\n        node = constructNode(data, namespace);\r\n        //set attributes first, then create children\r\n        var attrs = constructAttrs(data, node, namespace, hasKeys)\r\n        var children = constructChildren(data, node, cached, editable, namespace, configs);\r\n        cached = reconstructCached(data, attrs, children, node, namespace, views, controllers);\r\n    }\r\n    else {\r\n        node = buildUpdatedNode(cached, data, editable, hasKeys, namespace, views, configs, controllers);\r\n    }\r\n    if (isNew || shouldReattach === true && node != null) insertNode(parentElement, node, index);\r\n    //schedule configs to be called. They are called after `build`\r\n    //finishes running\r\n    scheduleConfigsToBeCalled(configs, data, node, isNew, cached);\r\n    return cached\r\n}\r\n\r\nexport {buildObject};\r\n","import {$document} from \"./_env.js\";\r\nimport {forKeys, forEach} from \"./_iterate.js\";\r\nimport {type, isArray, isObject, isFunction} from \"./_types.js\";\r\nimport {clear, insertNode, injectHTML, injectTextNode} from \"./_dom.js\";\r\nimport {buildObject} from \"./_build-object.js\";\r\n\r\nvar DELETION = 1,\r\n    INSERTION = 2,\r\n    MOVE = 3,\r\n    voidElements = /^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/;\r\n\r\nfunction sortChanges(a, b) { return a.action - b.action || a.index - b.index; }\r\n\r\nfunction handleKeysDiffer(data, existing, cached, parentElement) {\r\n    forKeys(data, function(key, i) {\r\n        existing[key = key.key] = existing[key] ? {\r\n            action: MOVE,\r\n            index: i,\r\n            from: existing[key].index,\r\n            element: cached.nodes[existing[key].index] || $document.createElement(\"div\")\r\n        } : {action: INSERTION, index: i};\r\n    });\r\n    var actions = [];\r\n    for (var prop in existing) actions.push(existing[prop]);\r\n    var changes = actions.sort(sortChanges), newCached = new Array(cached.length);\r\n    newCached.nodes = cached.nodes.slice();\r\n\r\n    forEach(changes, function(change) {\r\n        var index = change.index;\r\n        if (change.action === DELETION) {\r\n            clear(cached[index].nodes, cached[index]);\r\n            newCached.splice(index, 1);\r\n        }\r\n        if (change.action === INSERTION) {\r\n            var dummy = $document.createElement(\"div\");\r\n            dummy.key = data[index].attrs.key;\r\n            insertNode(parentElement, dummy, index);\r\n            newCached.splice(index, 0, {\r\n                attrs: {key: data[index].attrs.key},\r\n                nodes: [dummy]\r\n            });\r\n            newCached.nodes[index] = dummy;\r\n        }\r\n\r\n        if (change.action === MOVE) {\r\n            var changeElement = change.element;\r\n            var maybeChanged = parentElement.childNodes[index];\r\n            if (maybeChanged !== changeElement && changeElement !== null) {\r\n                parentElement.insertBefore(changeElement, maybeChanged || null);\r\n            }\r\n            newCached[index] = cached[change.from];\r\n            newCached.nodes[index] = changeElement;\r\n        }\r\n    });\r\n\r\n    return newCached;\r\n}\r\n\r\n//diff the array itself\r\nfunction diffArray(data, cached, nodes) {\r\n    //update the list of DOM nodes by collecting the nodes from each item\r\n    forEach(data, function(_, i) {\r\n        if (cached[i] != null) nodes.push.apply(nodes, cached[i].nodes);\r\n    })\r\n    //remove items from the end of the array if the new array is shorter than the old one.\r\n    //if errors ever happen here, the issue is most likely\r\n    //a bug in the construction of the `cached` data structure somewhere earlier in the program\r\n    forEach(cached.nodes, function(node, i) {\r\n        if (node.parentNode != null && nodes.indexOf(node) < 0) clear([node], [cached[i]]);\r\n    })\r\n    if (data.length < cached.length) cached.length = data.length;\r\n    cached.nodes = nodes;\r\n}\r\n\r\nfunction diffKeys(data, cached, existing, parentElement) {\r\n    var keysDiffer = data.length !== cached.length;\r\n    if (!keysDiffer) {\r\n        forKeys(data, function(attrs, i) {\r\n            var cachedCell = cached[i];\r\n            return keysDiffer = cachedCell && cachedCell.attrs && cachedCell.attrs.key !== attrs.key;\r\n        });\r\n    }\r\n\r\n    return keysDiffer ? handleKeysDiffer(data, existing, cached, parentElement) : cached;\r\n}\r\n\r\nfunction flatten(list) {\r\n    //recursively flatten array\r\n    for (var i = 0; i < list.length; i++) {\r\n        if (isArray(list[i])) {\r\n            list = list.concat.apply([], list);\r\n            //check current index again and flatten until there are no more nested arrays at that index\r\n            i--;\r\n        }\r\n    }\r\n    return list;\r\n}\r\n\r\nfunction buildArrayKeys(data) {\r\n    var guid = 0;\r\n    forKeys(data, function() {\r\n        forEach(data, function(attrs) {\r\n            if ((attrs = attrs && attrs.attrs) && attrs.key == null) attrs.key = \"__mithril__\" + guid++;\r\n        })\r\n        return 1;\r\n    });\r\n}\r\n\r\nfunction getSubArrayCount(item) {\r\n    if (item.$trusted) {\r\n        //fix offset of next element if item was a trusted string w/ more than one html element\r\n        //the first clause in the regexp matches elements\r\n        //the second clause (after the pipe) matches text nodes\r\n        var match = item.match(/<[^\\/]|\\>\\s*[^<]/g);\r\n        if (match != null) return match.length;\r\n    }\r\n    else if (isArray(item)) {\r\n        return item.length;\r\n    }\r\n    return 1;\r\n}\r\n\r\nfunction buildArray(data, cached, parentElement, index, parentTag, shouldReattach, editable, namespace, configs) {\r\n    data = flatten(data);\r\n    var nodes = [], intact = cached.length === data.length, subArrayCount = 0;\r\n\r\n    //keys algorithm: sort elements without recreating them if keys are present\r\n    //1) create a map of all existing keys, and mark all for deletion\r\n    //2) add new keys to map and mark them for addition\r\n    //3) if key exists in new list, change action from deletion to a move\r\n    //4) for each key, handle its corresponding action as marked in previous steps\r\n    var existing = {}, shouldMaintainIdentities = false;\r\n    forKeys(cached, function(attrs, i) {\r\n        shouldMaintainIdentities = true;\r\n        existing[cached[i].attrs.key] = {action: DELETION, index: i};\r\n    });\r\n\r\n    buildArrayKeys(data);\r\n    if (shouldMaintainIdentities) cached = diffKeys(data, cached, existing, parentElement);\r\n    //end key algorithm\r\n\r\n    var cacheCount = 0;\r\n    //faster explicitly written\r\n    for (var i = 0, len = data.length; i < len; i++) {\r\n        //diff each item in the array\r\n        var item = build(\r\n            parentElement,\r\n            parentTag,\r\n            cached,\r\n            index,\r\n            data[i],\r\n            cached[cacheCount],\r\n            shouldReattach,\r\n            index + subArrayCount || subArrayCount,\r\n            editable,\r\n            namespace,\r\n            configs\r\n        );\r\n\r\n        if (item !== undefined) {\r\n            intact = intact && item.nodes.intact;\r\n            subArrayCount += getSubArrayCount(item);\r\n            cached[cacheCount++] = item;\r\n        }\r\n    }\r\n\r\n    if (!intact) diffArray(data, cached, nodes);\r\n    return cached\r\n}\r\n\r\n// Broken out because it was causing deopts in v8.\r\nfunction dataToString(data) {\r\n    //data.toString() might throw or return null if data is\r\n    //the return value of Console.log in Firefox (behavior depends on version)\r\n    try {\r\n        if (data == null || data.toString() == null) return \"\";\r\n    }\r\n    catch (e) {\r\n        return \"\";\r\n    }\r\n    return data;\r\n}\r\n\r\nfunction makeCache(data, cached, index, parentIndex, parentCache) {\r\n    if (cached != null) {\r\n        if (type.call(cached) === type.call(data)) return cached;\r\n\r\n        if (parentCache && parentCache.nodes) {\r\n            var offset = index - parentIndex, end = offset + (isArray(data) ? data : cached.nodes).length;\r\n            clear(parentCache.nodes.slice(offset, end), parentCache.slice(offset, end));\r\n        }\r\n        else if (cached.nodes) {\r\n            clear(cached.nodes, cached);\r\n        }\r\n    }\r\n\r\n    cached = new data.constructor();\r\n    //if constructor creates a virtual dom element, use a blank object\r\n    //as the base cached node instead of copying the virtual el (#277)\r\n    if (cached.tag) cached = {};\r\n    cached.nodes = [];\r\n    return cached;\r\n}\r\n\r\nfunction handleNonexistentNodes(data, parentElement, index) {\r\n    var nodes, cached;\r\n    if (data.$trusted) {\r\n        nodes = injectHTML(parentElement, index, data);\r\n    }\r\n    else {\r\n        nodes = [$document.createTextNode(data)];\r\n        if (!parentElement.nodeName.match(voidElements)) insertNode(parentElement, nodes[0], index);\r\n    }\r\n\r\n    if (typeof data === \"string\" || typeof data === \"number\" || typeof data === \"boolean\") {\r\n        cached = new data.constructor(data);\r\n    }\r\n    else {\r\n        cached = data;\r\n    }\r\n    cached.nodes = nodes;\r\n    return cached;\r\n}\r\n\r\nfunction reattachNodes(data, cached, parentElement, editable, index, parentTag) {\r\n    var nodes = cached.nodes;\r\n    if (!editable || editable !== $document.activeElement) {\r\n        if (data.$trusted) {\r\n            clear(nodes, cached)\r\n            nodes = injectHTML(parentElement, index, data)\r\n        }\r\n        else if (parentTag === \"textarea\") {\r\n            // <textarea> uses `value` instead of `nodeValue`.\r\n            parentElement.value = data\r\n        }\r\n        else if (editable) {\r\n            // contenteditable nodes use `innerHTML` instead of `nodeValue`.\r\n            editable.innerHTML = data\r\n        }\r\n        else {\r\n            // was a trusted string\r\n            if (nodes[0].nodeType === 1 ||\r\n                nodes.length > 1 ||\r\n                (nodes[0].nodeValue.trim && !nodes[0].nodeValue.trim())) {\r\n                clear(cached.nodes, cached)\r\n                nodes = [$document.createTextNode(data)]\r\n            }\r\n            injectTextNode(parentElement, nodes[0], index, data);\r\n        }\r\n    }\r\n    cached = new data.constructor(data);\r\n    cached.nodes = nodes;\r\n    return cached;\r\n}\r\n\r\nfunction handleText(cached, data, index, parentElement, shouldReattach, editable, parentTag) {\r\n    //handle text nodes\r\n    return cached.nodes.length === 0 ? handleNonexistentNodes(data, parentElement, index) :\r\n        cached.valueOf() !== data.valueOf() || shouldReattach === true ?\r\n            reattachNodes(data, cached, parentElement, editable, index, parentTag) :\r\n        (cached.nodes.intact = true, cached);\r\n}\r\n\r\nfunction build(\r\n    parentElement,\r\n    parentTag,\r\n    parentCache,\r\n    parentIndex,\r\n    data,\r\n    cached,\r\n    shouldReattach,\r\n    index,\r\n    editable,\r\n    namespace,\r\n    configs\r\n) {\r\n    /*eslint spaced-comment:0 */\r\n    //`build` is a recursive function that manages creation/diffing/removal\r\n    //of DOM elements based on comparison between `data` and `cached`\r\n    //the diff algorithm can be summarized as this:\r\n    //1 - compare `data` and `cached`\r\n    //2 - if they are different, copy `data` to `cached` and update the DOM\r\n    //    based on what the difference is\r\n    //3 - recursively apply this algorithm for every array and for the\r\n    //    children of every virtual element\r\n\r\n    //the `cached` data structure is essentially the same as the previous\r\n    //redraw's `data` data structure, with a few additions:\r\n    //- `cached` always has a property called `nodes`, which is a list of\r\n    //   DOM elements that correspond to the data represented by the\r\n    //   respective virtual element\r\n    //- in order to support attaching `nodes` as a property of `cached`,\r\n    //   `cached` is *always* a non-primitive object, i.e. if the data was\r\n    //   a string, then cached is a String instance. If data was `null` or\r\n    //   `undefined`, cached is `new String(\"\")`\r\n    //- `cached also has a `configContext` property, which is the state\r\n    //   storage object exposed by config(element, isInitialized, context)\r\n    //- when `cached` is an Object, it represents a virtual element; when\r\n    //   it's an Array, it represents a list of elements; when it's a\r\n    //   String, Number or Boolean, it represents a text node\r\n\r\n    //`parentElement` is a DOM element used for W3C DOM API calls\r\n    //`parentTag` is only used for handling a corner case for textarea\r\n    //values\r\n    //`parentCache` is used to remove nodes in some multi-node cases\r\n    //`parentIndex` and `index` are used to figure out the offset of nodes.\r\n    //They're artifacts from before arrays started being flattened and are\r\n    //likely refactorable\r\n    //`data` and `cached` are, respectively, the new and old nodes being\r\n    //diffed\r\n    //`shouldReattach` is a flag indicating whether a parent node was\r\n    //recreated (if so, and if this node is reused, then this node must\r\n    //reattach itself to the new parent)\r\n    //`editable` is a flag that indicates whether an ancestor is\r\n    //contenteditable\r\n    //`namespace` indicates the closest HTML namespace as it cascades down\r\n    //from an ancestor\r\n    //`configs` is a list of config functions to run after the topmost\r\n    //`build` call finishes running\r\n\r\n    //there's logic that relies on the assumption that null and undefined\r\n    //data are equivalent to empty strings\r\n    //- this prevents lifecycle surprises from procedural helpers that mix\r\n    //  implicit and explicit return statements (e.g.\r\n    //  function foo() {if (cond) return m(\"div\")}\r\n    //- it simplifies diffing code\r\n    data = dataToString(data);\r\n    if (data.subtree === \"retain\") return cached;\r\n    cached = makeCache(data, cached, index, parentIndex, parentCache);\r\n\r\n    if (isArray(data)) {\r\n        return buildArray(data, cached, parentElement, index, parentTag, shouldReattach, editable, namespace, configs);\r\n    }\r\n\r\n    if (data != null && isObject(data)) {\r\n        return buildObject(data, cached, editable, parentElement, index, shouldReattach, namespace, configs);\r\n    }\r\n\r\n    if (!isFunction(data)) {\r\n        return handleText(cached, data, index, parentElement, shouldReattach, editable, parentTag);\r\n    }\r\n\r\n    return cached;\r\n}\r\n\r\nexport {build};\r\n","import {$document} from \"./_env.js\";\r\nimport {forEach} from \"./_iterate.js\";\r\nimport {getCellCacheKey, cellCache, clear, reset, documentNode} from \"./_dom.js\";\r\nimport {build} from \"./_build.js\";\r\n\r\nfunction render(root, cell, forceRecreation) {\r\n    var configs = [];\r\n    if (!root) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\");\r\n    var id = getCellCacheKey(root);\r\n    var isDocumentRoot = root === $document;\r\n    var node = isDocumentRoot || root === $document.documentElement ? documentNode : root;\r\n    if (isDocumentRoot && cell.tag !== \"html\") cell = {tag: \"html\", attrs: {}, children: cell};\r\n    if (cellCache[id] === undefined) clear(node.childNodes);\r\n    if (forceRecreation === true) reset(root);\r\n    cellCache[id] = build(node, null, undefined, undefined, cell, cellCache[id], false, 0, null, undefined, configs);\r\n    forEach(configs, function(config) { config(); });\r\n}\r\n\r\nexport {render};\r\n","import {prop} from \"./prop.js\";\r\nimport {$requestAnimationFrame, $cancelAnimationFrame} from \"./_env.js\";\r\nimport {forEach} from \"./_iterate.js\";\r\nimport {roots, components, controllers} from \"./_dom.js\";\r\nimport {render} from \"./render.js\";\r\n\r\nvar redrawing = false,\r\n    forcing = false,\r\n    lastRedrawId = null,\r\n    lastRedrawCallTime = 0,\r\n    FRAME_BUDGET = 16, //60 frames per second = 1 call per 16 ms\r\n    computePreRedrawHook = null,\r\n    computePostRedrawHook = null;\r\n\r\nfunction _redraw() {\r\n    if (computePreRedrawHook) {\r\n        computePreRedrawHook();\r\n        computePreRedrawHook = null;\r\n    }\r\n    forEach(roots, function(root, i) {\r\n        var component = components[i];\r\n        if (controllers[i]) {\r\n            var args = [controllers[i]];\r\n            render(root, component.view ? component.view(controllers[i], args) : \"\");\r\n        }\r\n    });\r\n\r\n    //after rendering within a routed context, we need to scroll back to the top,\r\n    //and fetch the document title for history.pushState\r\n    if (computePostRedrawHook) {\r\n        computePostRedrawHook();\r\n        computePostRedrawHook = null;\r\n    }\r\n    lastRedrawId = null;\r\n    lastRedrawCallTime = new Date();\r\n    redraw.strategy(\"diff\");\r\n}\r\n\r\nfunction preredraw(value) {\r\n    computePreRedrawHook = value;\r\n}\r\n\r\nfunction postredraw(value) {\r\n    computePostRedrawHook = value;\r\n}\r\n\r\nfunction redraw(force) {\r\n    if (redrawing) return;\r\n    redrawing = true;\r\n    if (force) forcing = true;\r\n    try {\r\n        //lastRedrawId is a positive number if a second redraw is requested before the next animation frame\r\n        //lastRedrawID is null if it's the first redraw and not an event handler\r\n        if (lastRedrawId && !force) {\r\n            //when rAF: always reschedule redraw\r\n            //when setTimeout: only reschedule redraw if time between now and previous redraw is bigger than a frame,\r\n            //otherwise keep currently scheduled timeout\r\n            if ($requestAnimationFrame === window.requestAnimationFrame\r\n                || (new Date()) - lastRedrawCallTime > FRAME_BUDGET) {\r\n                if (lastRedrawId > 0) $cancelAnimationFrame(lastRedrawId);\r\n                lastRedrawId = $requestAnimationFrame(redraw, FRAME_BUDGET);\r\n            }\r\n        }\r\n        else {\r\n            _redraw();\r\n            lastRedrawId = $requestAnimationFrame(function() { lastRedrawId = null; }, FRAME_BUDGET);\r\n        }\r\n    }\r\n    finally {\r\n        redrawing = forcing = false;\r\n    }\r\n}\r\n\r\nredraw.strategy = prop();\r\n\r\nexport {\r\n    redraw,\r\n    forcing,\r\n    lastRedrawCallTime,\r\n    lastRedrawId,\r\n    preredraw,\r\n    postredraw\r\n};\r\n","import {redraw} from \"./redraw.js\";\r\n\r\nvar pendingRequests = 0;\r\n\r\nfunction start() {\r\n    pendingRequests++;\r\n}\r\n\r\nfunction end() {\r\n    if (pendingRequests > 1) {\r\n        pendingRequests--;\r\n    }\r\n    else {\r\n        pendingRequests = 0;\r\n        redraw();\r\n    }\r\n}\r\n\r\nfunction endFirst() {\r\n    if (redraw.strategy() === \"none\") {\r\n        pendingRequests--;\r\n        redraw.strategy(\"diff\");\r\n    }\r\n    else {\r\n        end();\r\n    }\r\n}\r\n\r\nfunction clear() {\r\n    pendingRequests = 0;\r\n}\r\n\r\nexport {\r\n    start,\r\n    end,\r\n    endFirst,\r\n    clear,\r\n    pendingRequests\r\n};\r\n","/*eslint spaced-comment:0, max-len:0 */\r\nimport {type, isObject, isFunction} from \"./_types.js\";\r\nimport {propify} from \"./prop.js\";\r\nimport {clear} from \"./computation.js\";\r\n\r\n// Promiz.mithril.js | Zolmeister | MIT\r\n// a modified version of Promiz.js, which does not conform to Promises/A+ for two reasons:\r\n// 1) `then` callbacks are called synchronously (because setTimeout is too slow, and the setImmediate polyfill is too big\r\n// 2) throwing subclasses of Error cause the error to be bubbled up instead of triggering rejection (because the spec does not account for the important use case of default browser error handling, i.e. message w/ line number)\r\nfunction Deferred(successCallback, failureCallback) {\r\n    /*eslint-disable*/\r\n    var RESOLVING = 1;\r\n    var REJECTING = 2;\r\n    var RESOLVED = 3;\r\n    var REJECTED = 4;\r\n    var self = this;\r\n    var state = 0;\r\n    var promiseValue = 0;\r\n    var next = [];\r\n\r\n    self.promise = {};\r\n\r\n    self.resolve = function (value) {\r\n        if (!state) {\r\n            promiseValue = value;\r\n            state = RESOLVING;\r\n\r\n            fire();\r\n        }\r\n        return this;\r\n    };\r\n\r\n    self.reject = function (value) {\r\n        if (!state) {\r\n            promiseValue = value;\r\n            state = REJECTING;\r\n\r\n            fire();\r\n        }\r\n        return this;\r\n    };\r\n\r\n    self.promise.then = function (successCallback, failureCallback) {\r\n        var local = new Deferred(successCallback, failureCallback)\r\n        \r\n        if (state === RESOLVED) {\r\n            local.resolve(promiseValue);\r\n        } else if (state === REJECTED) {\r\n            local.reject(promiseValue);\r\n        } else {\r\n            next.push(local);\r\n        }\r\n        \r\n        return local.promise;\r\n    };\r\n\r\n    function finish(type) {\r\n        state = type || REJECTED;\r\n\r\n        next.map(function (local) {\r\n            local[state === RESOLVED ? \"resolve\" : \"reject\"](promiseValue);\r\n        });\r\n    }\r\n\r\n    function thennable(then, successCallback, failureCallback, notThennableCallback) {\r\n        if (((promiseValue != null && isObject(promiseValue)) || isFunction(promiseValue)) && isFunction(then)) {\r\n            try {\r\n                // count protects against abuse calls from spec checker\r\n                var count = 0;\r\n                then.call(promiseValue, function(value) {\r\n                    if (count++) return;\r\n                    promiseValue = value;\r\n                    successCallback();\r\n                }, function (value) {\r\n                    if (count++) return;\r\n                    promiseValue = value;\r\n                    failureCallback();\r\n                });\r\n            } catch (e) {\r\n                deferred.onerror(e);\r\n                promiseValue = e;\r\n                failureCallback();\r\n            }\r\n        } else {\r\n            notThennableCallback();\r\n        }\r\n    }\r\n\r\n    function fire() {\r\n        // check if it's a thenable\r\n        var then;\r\n        try {\r\n            then = promiseValue && promiseValue.then;\r\n        } catch (e) {\r\n            deferred.onerror(e);\r\n            promiseValue = e;\r\n            state = REJECTING;\r\n            return fire();\r\n        }\r\n\r\n        if (state === REJECTING) {\r\n            deferred.onerror(promiseValue)\r\n        }\r\n\r\n        thennable(then, function () {\r\n            state = RESOLVING\r\n            fire()\r\n        }, function () {\r\n            state = REJECTING\r\n            fire()\r\n        }, function () {\r\n            try {\r\n                if (state === RESOLVING && isFunction(successCallback)) {\r\n                    promiseValue = successCallback(promiseValue);\r\n                } else if (state === REJECTING && isFunction(failureCallback)) {\r\n                    promiseValue = failureCallback(promiseValue);\r\n                    state = RESOLVING;\r\n                }\r\n            } catch (e) {\r\n                deferred.onerror(e);\r\n                promiseValue = e;\r\n                return finish();\r\n            }\r\n\r\n            if (promiseValue === self) {\r\n                promiseValue = TypeError();\r\n                finish();\r\n            } else {\r\n                thennable(then, function () {\r\n                    finish(RESOLVED);\r\n                }, finish, function () {\r\n                    finish(state === RESOLVING && RESOLVED);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    /*eslint-enable*/\r\n}\r\n\r\nfunction deferred() {\r\n    var local = new Deferred();\r\n    local.promise = propify(local.promise);\r\n\r\n    return local;\r\n}\r\n\r\ndeferred.onerror = function(e) {\r\n    if (type.call(e) === \"[object Error]\" && !e.constructor.toString().match(/ Error/)) {\r\n        clear();\r\n\r\n        throw e;\r\n    }\r\n};\r\n\r\nexport {deferred, Deferred};\r\n","import {deferred} from \"./deferred.js\";\r\nimport {forEach} from \"./_iterate.js\";\r\n\r\nfunction sync(args) {\r\n    var method = \"resolve\";\r\n    var local = deferred();\r\n    var outstanding = args.length;\r\n    var results = new Array(outstanding);\r\n\r\n    function synchronizer(pos, resolved) {\r\n        return function(value) {\r\n            results[pos] = value;\r\n            if (!resolved) method = \"reject\";\r\n            if (--outstanding === 0) {\r\n                local.promise(results);\r\n                local[method](results);\r\n            }\r\n            return value;\r\n        };\r\n    }\r\n\r\n    if (args.length > 0) {\r\n        forEach(args, function(arg, i) {\r\n            arg.then(synchronizer(i, true), synchronizer(i, false));\r\n        });\r\n    }\r\n    else local.resolve([]);\r\n\r\n    return local.promise;\r\n}\r\n\r\nexport {sync};\r\n","import {forEach} from \"./_iterate.js\";\r\nimport {isObject, isArray} from \"./_types.js\";\r\nimport {encode, decode} from \"./_util.js\";\r\n\r\nfunction build(object, prefix) {\r\n    var duplicates = {};\r\n    var str = [];\r\n    for (var prop in object) {\r\n        var key = prefix ? prefix + \"[\" + prop + \"]\" : prop;\r\n        var value = object[prop];\r\n\r\n        if (value === null) {\r\n            str.push(encode(key));\r\n        }\r\n        else if (isObject(value)) {\r\n            str.push(build(value, key));\r\n        }\r\n        else if (isArray(value)) {\r\n            var keys = [];\r\n            duplicates[key] = duplicates[key] || {};\r\n            forEach(value, function(item) {\r\n                if (!duplicates[key][item]) {\r\n                    duplicates[key][item] = true;\r\n                    keys.push(encode(key) + \"=\" + encode(item));\r\n                }\r\n            });\r\n            str.push(keys.join(\"&\"));\r\n        }\r\n        else if (value !== undefined) {\r\n            str.push(encode(key) + \"=\" + encode(value));\r\n        }\r\n    }\r\n    return str.join(\"&\");\r\n}\r\n\r\nfunction parse(str) {\r\n    if (str === \"\" || str == null) return {};\r\n    if (str.charAt(0) === \"?\") str = str.slice(1);\r\n\r\n    var pairs = str.split(\"&\");\r\n    var params = {};\r\n\r\n    forEach(pairs, function(string) {\r\n        var pair = string.split(\"=\");\r\n        var key = decode(pair[0]);\r\n        var value = pair.length === 2 ? decode(pair[1]) : null;\r\n        if (params[key] != null) {\r\n            if (!isArray(params[key])) params[key] = [params[key]];\r\n            params[key].push(value);\r\n        }\r\n        else params[key] = value;\r\n    });\r\n\r\n    return params;\r\n}\r\n\r\nexport {build, parse};\r\n","import {noop} from \"./_util.js\";\r\nimport {isFunction} from \"./_types.js\";\r\nimport {forEach} from \"./_iterate.js\";\r\nimport {redraw} from \"./redraw.js\";\r\nimport {start as startComputation, endFirst as endFirstComputation} from \"./computation.js\";\r\nimport {preredraw, postredraw} from \"./redraw.js\";\r\nimport {roots, unloaders, controllers, components, removeRootElement, clearUnloaders} from \"./_dom.js\";\r\n\r\nvar topComponent;\r\n\r\nfunction mount(root, component) {\r\n    /*eslint max-statements:[2, 26] */\r\n    if (!root) throw new Error(\"Please ensure the DOM element exists before rendering a template into it.\");\r\n    var index = roots.indexOf(root);\r\n    if (index < 0) index = roots.length;\r\n\r\n    var isPrevented = false;\r\n    var event = {\r\n        preventDefault: function() {\r\n            isPrevented = true;\r\n            preredraw(null);\r\n            postredraw(null);\r\n        }\r\n    };\r\n\r\n    forEach(unloaders, function(unloader) {\r\n        unloader.handler.call(unloader.controller, event);\r\n        unloader.controller.onunload = null;\r\n    });\r\n\r\n    if (isPrevented) {\r\n        forEach(unloaders, function(unloader) {\r\n            unloader.controller.onunload = unloader.handler;\r\n        });\r\n    }\r\n    else clearUnloaders();\r\n\r\n    if (controllers[index] && isFunction(controllers[index].onunload)) {\r\n        controllers[index].onunload(event);\r\n    }\r\n\r\n    var isNullComponent = component === null;\r\n\r\n    if (!isPrevented) {\r\n        redraw.strategy(\"all\");\r\n        startComputation();\r\n        roots[index] = root;\r\n        var currentComponent = component ? (topComponent = component) : (topComponent = component = {controller: noop});\r\n        var controller = new (component.controller || noop)();\r\n        //controllers may call m.mount recursively (via m.route redirects, for example)\r\n        //this conditional ensures only the last recursive m.mount call is applied\r\n        if (currentComponent === topComponent) {\r\n            controllers[index] = controller;\r\n            components[index] = component;\r\n        }\r\n        endFirstComputation();\r\n        if (isNullComponent) {\r\n            removeRootElement(root, index);\r\n        }\r\n        return controllers[index];\r\n    }\r\n    if (isNullComponent) {\r\n        removeRootElement(root, index);\r\n    }\r\n}\r\n\r\nexport {mount};\r\n","import {$document, $location} from \"./_env.js\";\r\nimport {noop, decode} from \"./_util.js\";\r\nimport {isString} from \"./_types.js\";\r\nimport {forEach} from \"./_iterate.js\";\r\nimport {build, parse} from \"./_query-string.js\";\r\nimport {clear} from \"./computation.js\";\r\nimport {preredraw, postredraw} from \"./redraw.js\";\r\nimport {mount} from \"./mount.js\";\r\n\r\nvar modes = {pathname: \"\", hash: \"#\", search: \"?\"};\r\nvar redirect = noop, routeParams, currentRoute, isDefaultRoute = false;\r\n\r\nfunction normalizeRoute(route) {\r\n    return route.slice(modes[route.mode].length);\r\n}\r\n\r\nfunction routeByValue(root, router, path) {\r\n    routeParams = {};\r\n\r\n    var queryStart = path.indexOf(\"?\");\r\n    if (queryStart !== -1) {\r\n        routeParams = parse(path.substr(queryStart + 1, path.length));\r\n        path = path.substr(0, queryStart);\r\n    }\r\n\r\n    //Get all routes and check if there's\r\n    //an exact match for the current path\r\n    var keys = Object.keys(router);\r\n    var index = keys.indexOf(path);\r\n    if (index !== -1){\r\n        mount(root, router[keys [index]]);\r\n        return true;\r\n    }\r\n\r\n    for (var route in router) {\r\n        if (route === path) {\r\n            mount(root, router[route]);\r\n            return true;\r\n        }\r\n\r\n        var matcher = new RegExp(\r\n            \"^\"\r\n            + route.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\")\r\n            + \"\\/?$\"\r\n        );\r\n\r\n        if (matcher.test(path)) {\r\n            path.replace(matcher, function() {\r\n                var keys = route.match(/:[^\\/]+/g) || [];\r\n                var values = [].slice.call(arguments, 1, -2);\r\n                forEach(keys, function(key, i) {\r\n                    routeParams[key.replace(/:|\\./g, \"\")] = decode(values[i]);\r\n                })\r\n                mount(root, router[route]);\r\n            });\r\n            return true;\r\n        }\r\n    }\r\n}\r\n\r\nfunction routeUnobtrusive(e) {\r\n    e = e || event;\r\n    if (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return;\r\n\r\n    if (e.preventDefault) e.preventDefault();\r\n    else e.returnValue = false;\r\n\r\n    var currentTarget = e.currentTarget || e.srcElement,\r\n        args = route.mode === \"pathname\" && currentTarget.search ? parse(currentTarget.search.slice(1)) : {};\r\n    while (currentTarget && currentTarget.nodeName.toUpperCase() !== \"A\") currentTarget = currentTarget.parentNode;\r\n    //clear pendingRequests because we want an immediate route change\r\n    clear();\r\n    route(currentTarget[route.mode].slice(modes[route.mode].length), args);\r\n}\r\n\r\nfunction setScroll() {\r\n    if (route.mode !== \"hash\" && $location.hash) $location.hash = $location.hash;\r\n    else window.scrollTo(0, 0);\r\n}\r\n\r\nfunction route(root, arg1, arg2, vdom) {\r\n    /*eslint max-statements:[2, 28] */\r\n    //route()\r\n    if (arguments.length === 0) return currentRoute;\r\n    //route(el, defaultRoute, routes)\r\n    else if (arguments.length === 3 && isString(arg1)) {\r\n        redirect = function(source) {\r\n            var path = currentRoute = normalizeRoute(source);\r\n            if (!routeByValue(root, arg2, path)) {\r\n                if (isDefaultRoute) {\r\n                    throw new Error(\"Ensure the default route matches one of the routes defined in route\");\r\n                }\r\n\r\n                isDefaultRoute = true;\r\n                route(arg1, true);\r\n                isDefaultRoute = false;\r\n            }\r\n        };\r\n        var listener = route.mode === \"hash\" ? \"onhashchange\" : \"onpopstate\";\r\n        window[listener] = function() {\r\n            var path = $location[route.mode];\r\n            if (route.mode === \"pathname\") path += $location.search;\r\n            if (currentRoute !== normalizeRoute(path)) redirect(path);\r\n        };\r\n\r\n        preredraw(setScroll);\r\n        window[listener]();\r\n    }\r\n    //config: route\r\n    else if (root.addEventListener || root.attachEvent) {\r\n        root.href = (route.mode !== \"pathname\" ? $location.pathname : \"\") + modes[route.mode] + vdom.attrs.href;\r\n        if (root.addEventListener) {\r\n            root.removeEventListener(\"click\", routeUnobtrusive);\r\n            root.addEventListener(\"click\", routeUnobtrusive);\r\n        }\r\n        else {\r\n            root.detachEvent(\"onclick\", routeUnobtrusive);\r\n            root.attachEvent(\"onclick\", routeUnobtrusive);\r\n        }\r\n    }\r\n    //route(route, params, shouldReplaceHistoryEntry)\r\n    else if (isString(root)) {\r\n        var oldRoute = currentRoute;\r\n        currentRoute = root;\r\n        var args = arg1 || {};\r\n        var queryIndex = currentRoute.indexOf(\"?\");\r\n        var params = queryIndex > -1 ? parse(currentRoute.slice(queryIndex + 1)) : {};\r\n        for (var i in args) params[i] = args[i];\r\n        var querystring = build(params);\r\n        var currentPath = queryIndex > -1 ? currentRoute.slice(0, queryIndex) : currentRoute;\r\n        if (querystring) currentRoute = currentPath + (currentPath.indexOf(\"?\") === -1 ? \"?\" : \"&\") + querystring;\r\n\r\n        var shouldReplaceHistoryEntry = (arguments.length === 3 ? arg2 : arg1) === true || oldRoute === root;\r\n\r\n        if (window.history.pushState) {\r\n            preredraw(setScroll);\r\n            postredraw(function() {\r\n                window.history[shouldReplaceHistoryEntry ? \"replaceState\" : \"pushState\"](\r\n                    null,\r\n                    $document.title,\r\n                    modes[route.mode] + currentRoute\r\n                );\r\n            });\r\n            redirect(modes[route.mode] + currentRoute);\r\n        }\r\n        else {\r\n            $location[route.mode] = currentRoute;\r\n            redirect(modes[route.mode] + currentRoute);\r\n        }\r\n    }\r\n}\r\n\r\nroute.param = function(key) {\r\n    if (!routeParams) {\r\n        throw new Error(\"You must call route(element, defaultRoute, routes) before calling route.param()\");\r\n    }\r\n\r\n    if (!key) {\r\n        return routeParams;\r\n    }\r\n\r\n    return routeParams[key];\r\n};\r\n\r\nroute.mode = \"search\";\r\n\r\nroute.buildQueryString = build;\r\nroute.parseQueryString = parse;\r\n\r\nexport {route};\r\n","import {Deferred} from \"./deferred.js\";\r\nimport {propify} from \"./prop.js\";\r\nimport {$document} from \"./_env.js\";\r\nimport {isFunction, isString, isArray} from \"./_types.js\";\r\nimport {forEach} from \"./_iterate.js\";\r\nimport {build as buildQueryString} from \"./_query-string.js\";\r\nimport {start, end} from \"./computation.js\";\r\n\r\nfunction identity(value) { return value; }\r\n\r\nfunction ajax(options) {\r\n    /*eslint max-statements:[2, 23] */\r\n    if (options.dataType && options.dataType.toLowerCase() === \"jsonp\") {\r\n        var callbackKey = \"mithril_callback_\"\r\n            + new Date().getTime()\r\n            + \"_\" + (Math.round(Math.random() * 1e16)).toString(36);\r\n        var script = $document.createElement(\"script\");\r\n\r\n        window[callbackKey] = function(resp) {\r\n            script.parentNode.removeChild(script);\r\n            options.onload({\r\n                type: \"load\",\r\n                target: {\r\n                    responseText: resp\r\n                }\r\n            });\r\n            window[callbackKey] = undefined;\r\n        };\r\n\r\n        script.onerror = function() {\r\n            script.parentNode.removeChild(script);\r\n\r\n            options.onerror({\r\n                type: \"error\",\r\n                target: {\r\n                    status: 500,\r\n                    responseText: JSON.stringify({\r\n                        error: \"Error making jsonp request\"\r\n                    })\r\n                }\r\n            });\r\n            window[callbackKey] = undefined;\r\n\r\n            return false;\r\n        }\r\n\r\n        script.onload = function() {\r\n            return false;\r\n        };\r\n\r\n        script.src = options.url\r\n            + (options.url.indexOf(\"?\") > 0 ? \"&\" : \"?\")\r\n            + (options.callbackKey ? options.callbackKey : \"callback\")\r\n            + \"=\" + callbackKey\r\n            + \"&\" + buildQueryString(options.data || {});\r\n        $document.body.appendChild(script);\r\n    }\r\n    else {\r\n        var xhr = new window.XMLHttpRequest();\r\n        xhr.open(options.method, options.url, true, options.user, options.password);\r\n        xhr.onreadystatechange = function() {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status >= 200 && xhr.status < 300) options.onload({type: \"load\", target: xhr});\r\n                else options.onerror({type: \"error\", target: xhr});\r\n            }\r\n        };\r\n\r\n        if (options.serialize === JSON.stringify && options.data && options.method !== \"GET\") {\r\n            xhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\r\n        }\r\n\r\n        if (options.deserialize === JSON.parse) {\r\n            xhr.setRequestHeader(\"Accept\", \"application/json, text/*\");\r\n        }\r\n\r\n        if (isFunction(options.config)) {\r\n            var maybeXhr = options.config(xhr, options);\r\n            if (maybeXhr != null) xhr = maybeXhr;\r\n        }\r\n\r\n        var data = options.method === \"GET\" || !options.data ? \"\" : options.data;\r\n        if (data && (!isString(data) && data.constructor !== window.FormData)) {\r\n            throw new Error(\r\n                \"Request data should be either be a string or FormData. \" +\r\n                \"Check the `serialize` option in `m.request`\"\r\n            );\r\n        }\r\n        xhr.send(data);\r\n        return xhr;\r\n    }\r\n}\r\n\r\nfunction bindData(xhrOptions, data, serialize) {\r\n    if (xhrOptions.method === \"GET\" && xhrOptions.dataType !== \"jsonp\") {\r\n        var prefix = xhrOptions.url.indexOf(\"?\") < 0 ? \"?\" : \"&\";\r\n        var querystring = buildQueryString(data);\r\n\r\n        xhrOptions.url += (querystring ? prefix + querystring : \"\");\r\n    }\r\n    else xhrOptions.data = serialize(data);\r\n\r\n    return xhrOptions;\r\n}\r\n\r\nfunction parameterizeUrl(url, data) {\r\n    var tokens = url.match(/:[a-z]\\w+/gi);\r\n    if (tokens && data) {\r\n        forEach(tokens, function(token) {\r\n            var key = token.slice(1);\r\n            url = url.replace(token, data[key]);\r\n            delete data[key];\r\n        });\r\n    }\r\n    return url;\r\n}\r\n\r\nexport function request(xhrOptions) {\r\n    if (xhrOptions.background !== true) start();\r\n    var deferred = new Deferred();\r\n    var isJSONP = xhrOptions.dataType && xhrOptions.dataType.toLowerCase() === \"jsonp\"\r\n    var serialize = xhrOptions.serialize = isJSONP ? identity : xhrOptions.serialize || JSON.stringify;\r\n    var deserialize = xhrOptions.deserialize = isJSONP ? identity : xhrOptions.deserialize || JSON.parse;\r\n    var extract = isJSONP ? function(jsonp) { return jsonp.responseText } : xhrOptions.extract || function(xhr) {\r\n        if (xhr.responseText.length === 0 && deserialize === JSON.parse) {\r\n            return null\r\n        }\r\n        else {\r\n            return xhr.responseText\r\n        }\r\n    };\r\n    xhrOptions.method = (xhrOptions.method || \"GET\").toUpperCase();\r\n    xhrOptions.url = parameterizeUrl(xhrOptions.url, xhrOptions.data);\r\n    xhrOptions = bindData(xhrOptions, xhrOptions.data, serialize);\r\n    xhrOptions.onload = xhrOptions.onerror = function(e) {\r\n        try {\r\n            e = e || event;\r\n            var unwrap = (e.type === \"load\" ? xhrOptions.unwrapSuccess : xhrOptions.unwrapError) || identity;\r\n            var response = unwrap(deserialize(extract(e.target, xhrOptions)), e.target);\r\n            if (e.type === \"load\") {\r\n                if (isArray(response) && xhrOptions.type) {\r\n                    forEach(response, function(res, i) {\r\n                        response[i] = new xhrOptions.type(res);\r\n                    });\r\n                }\r\n                else if (xhrOptions.type) {\r\n                    response = new xhrOptions.type(response);\r\n                }\r\n\r\n                deferred.resolve(response)\r\n            }\r\n            else {\r\n                deferred.reject(response)\r\n            }\r\n\r\n            deferred[e.type === \"load\" ? \"resolve\" : \"reject\"](response);\r\n        }\r\n        catch (error) {\r\n            deferred.reject(error);\r\n        }\r\n        finally {\r\n            if (xhrOptions.background !== true) end()\r\n        }\r\n    }\r\n\r\n    ajax(xhrOptions);\r\n    deferred.promise = propify(deferred.promise, xhrOptions.initialValue);\r\n    return deferred.promise;\r\n}\r\n","import {initialize} from \"./_env.js\";\r\n\r\n//testing API\r\nfunction deps(mock) {\r\n    initialize(window = mock || window);\r\n    return window;\r\n}\r\n\r\nexport {deps};\r\n","import {noop} from \"./_util.js\";\r\nimport {isObject, isString, isArray} from \"./_types.js\";\r\n\r\nvar parser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[.+?\\])/g,\r\n    attrParser = /\\[(.+?)(?:=(\"|'|)(.*?)\\2)?\\]/;\r\n\r\n/**\r\n *\r\n * @param {Tag} The DOM node tag\r\n * @param {Object=[]} optional key-value pairs to be mapped to DOM attrs\r\n * @param {...mNode=[]} Zero or more Mithril child nodes. Can be an array, or splat (optional)\r\n *\r\n */\r\nfunction parse(tag, pairs) {\r\n    /*eslint max-statements:[2, 24] */\r\n    for (var args = [], i = 1; i < arguments.length; i++) {\r\n        args[i - 1] = arguments[i];\r\n    }\r\n    if (isObject(tag)) return parameterize(tag, args);\r\n    var hasAttrs = pairs != null && isObject(pairs) && !(\"tag\" in pairs || \"view\" in pairs || \"subtree\" in pairs);\r\n    var attrs = hasAttrs ? pairs : {};\r\n    var classAttrName = \"class\" in attrs ? \"class\" : \"className\";\r\n    var cell = {tag: \"div\", attrs: {}};\r\n    var match, classes = [];\r\n    if (!isString(tag)) throw new Error(\"selector in m(selector, attrs, children) should be a string\");\r\n    while ((match = parser.exec(tag)) != null) {\r\n        if (match[1] === \"\" && match[2]) cell.tag = match[2];\r\n        else if (match[1] === \"#\") cell.attrs.id = match[2];\r\n        else if (match[1] === \".\") classes.push(match[2]);\r\n        else if (match[3][0] === \"[\") {\r\n            var pair = attrParser.exec(match[3]);\r\n            cell.attrs[pair[1]] = pair[3] || (pair[2] ? \"\" : true);\r\n        }\r\n    }\r\n\r\n    var children = hasAttrs ? args.slice(1) : args;\r\n    if (children.length === 1 && isArray(children[0])) {\r\n        cell.children = children[0];\r\n    }\r\n    else {\r\n        cell.children = children;\r\n    }\r\n\r\n    for (var attrName in attrs) {\r\n        if (attrs.hasOwnProperty(attrName)) {\r\n            if (attrName === classAttrName && attrs[attrName] != null && attrs[attrName] !== \"\") {\r\n                classes.push(attrs[attrName]);\r\n                cell.attrs[attrName] = \"\"; //create key in correct iteration order\r\n            }\r\n            else cell.attrs[attrName] = attrs[attrName];\r\n        }\r\n    }\r\n    if (classes.length) cell.attrs[classAttrName] = classes.join(\" \");\r\n\r\n    return cell;\r\n}\r\n\r\nfunction parameterize(component, args) {\r\n    var controller = function() {\r\n        return (component.controller || noop).apply(this, args) || this;\r\n    };\r\n    if (component.controller) controller.prototype = component.controller.prototype;\r\n    var view = function(ctrl) {\r\n        var currentArgs = arguments.length > 1 ? args.concat([].slice.call(arguments, 1)) : args;\r\n        return component.view.apply(component, currentArgs ? [ctrl].concat(currentArgs) : [ctrl]);\r\n    };\r\n    view.$original = component.view;\r\n    var output = {controller: controller, view: view};\r\n    if (args[0] && args[0].key != null) output.attrs = {key: args[0].key};\r\n    return output;\r\n}\r\n\r\nexport {parse, parameterize};\r\n","import {parameterize} from \"./parse.js\";\r\n\r\nfunction component(component) {\r\n    for (var args = [], i = 1; i < arguments.length; i++) args.push(arguments[i]);\r\n    return parameterize(component, args);\r\n}\r\n\r\nexport {component};\r\n","import {initialize} from \"./_env.js\";\r\n\r\nimport {component} from \"./component.js\";\r\nimport {deps} from \"./deps.js\";\r\nimport {mount} from \"./mount.js\";\r\nimport {parse} from \"./parse.js\";\r\nimport {prop} from \"./prop.js\";\r\nimport {redraw} from \"./redraw.js\";\r\nimport {render} from \"./render.js\";\r\nimport {request} from \"./request.js\";\r\nimport {route} from \"./route.js\";\r\nimport {start, end} from \"./computation.js\";\r\nimport {sync} from \"./sync.js\";\r\nimport {trust} from \"./trust.js\";\r\nimport {withAttr} from \"./with-attr.js\";\r\n\r\nexport default (function app(window, undefined) {\r\ninitialize(window);\r\n\r\nvar m = parse;\r\n\r\nm.version = function() {\r\n    return \"v0.2.3\";\r\n};\r\n\r\nm.component = component;\r\nm.deps = deps;\r\nm.endComputation = end;\r\nm.module = mount;\r\nm.mount = mount;\r\nm.prop = prop;\r\nm.redraw = redraw;\r\nm.render = render;\r\nm.request = request;\r\nm.route = route;\r\nm.startComputation = start;\r\nm.sync = sync;\r\nm.trust = trust;\r\nm.withAttr = withAttr;\r\n\r\n//for internal testing only, do not use `m.deps.factory`\r\nm.deps.factory = app;\r\n\r\nreturn m;\r\n}(typeof window !== \"undefined\" ? window : {}));\r\n"],"names":["clear","flatten","build","parse","startComputation","endFirstComputation","buildQueryString"],"mappings":"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"}