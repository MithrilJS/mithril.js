<!doctype html>
<html lang=en>
<head>
<meta charset=UTF-8>
<title>Mithril.js</title>
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet>
<link href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism.min.css rel=stylesheet>
<link href=style.css rel=stylesheet>
<link rel=icon type=image/png sizes=32x32 href=favicon.png>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Describes how we do releases of Mithril.js">
</head>
<body onload="window.requestAnimationFrame(function(){document.getElementById('archive-docs').selectedIndex = 0})" /* handle back navigation */>
<header>
<section>
<a class=hamburger href=javascript:;>â‰¡</a>
<h1><img src=logo.svg> Mithril <select id=archive-docs onchange="location.href='/archive/' + this.value + '/index.html'"><option>v2.2.1<option>v2.2.0<option>v2.0.4<option>v2.0.3<option>v2.0.2<option>v2.0.1<option>v2.0.0-rc.9<option>v2.0.0-rc.8<option>v2.0.0-rc.7<option>v2.0.0-rc.6<option>v2.0.0-rc.5<option>v2.0.0-rc.4<option>v2.0.0-rc.3<option>v2.0.0-rc.1<option>v2.0.0-rc.0<option>v1.1.7<option>v1.1.6<option>v1.1.5<option>v1.1.4<option>v1.1.3<option>v1.1.2<option>v1.1.1<option>v1.1.0-rc.1<option>v1.1.0<option>v1.0.1<option>v1.0.0<option>v0.2.5<option>v0.2.4<option>v0.2.3<option>v0.2.2-rc.1<option>v0.2.1<option>v0.2.0<option>v0.1.9<option>v0.1.8<option>v0.1.7<option>v0.1.6<option>v0.1.5<option>v0.1.4<option>v0.1.34<option>v0.1.33<option>v0.1.32<option>v0.1.31<option>v0.1.30<option>v0.1.3<option>v0.1.29<option>v0.1.28<option>v0.1.27<option>v0.1.26<option>v0.1.25<option>v0.1.24<option>v0.1.23<option>v0.1.22<option>v0.1.21<option>v0.1.20<option>v0.1.2<option>v0.1.19<option>v0.1.18<option>v0.1.17<option>v0.1.16<option>v0.1.15<option>v0.1.14<option>v0.1.13<option>v0.1.12<option>v0.1.11<option>v0.1.10<option>v0.1.1<option>v0.1</select></h1>
<nav>
<a href=index.html>Guide</a>
<a href=api.html>API</a>
<a href=https://mithril.zulipchat.com/ >Chat</a>
<a href=https://github.com/MithrilJS/mithril.js>GitHub</a>
</nav>
</section>
</header>
<main>
<section>
<h1 id=mithriljs-release-processes><a href=#mithriljs-release-processes>Mithril.js Release Processes</a></h1>
<ul>
<li>Core<ul>
<li><a href=hyperscript.html>m</a></li>
<li><a href=render.html>m.render</a></li>
<li><a href=mount.html>m.mount</a></li>
<li><a href=route.html>m.route</a></li>
<li><a href=request.html>m.request</a></li>
<li><a href=jsonp.html>m.jsonp</a></li>
<li><a href=parseQueryString.html>m.parseQueryString</a></li>
<li><a href=buildQueryString.html>m.buildQueryString</a></li>
<li><a href=buildPathname.html>m.buildPathname</a></li>
<li><a href=parsePathname.html>m.parsePathname</a></li>
<li><a href=trust.html>m.trust</a></li>
<li><a href=fragment.html>m.fragment</a></li>
<li><a href=redraw.html>m.redraw</a></li>
<li><a href=promise.html>Promise</a></li>
</ul>
</li>
<li>Optional<ul>
<li><a href=stream.html>Stream</a></li>
</ul>
</li>
<li>Tooling<ul>
<li><a href=https://github.com/MithrilJS/mithril.js/blob/master/ospec>Ospec</a></li>
</ul>
</li>
</ul>
<p>Mithril.js&#39; release process is automated by <a href=https://pr-release.org/ >pr-release</a>. pr-release is maintained by a long time Mithril.js community member <a href=https://github.com/JAForbes>@JAForbes</a>.</p>
<p>pr-release handles the following:</p>
<ul>
<li>Generating changelog entries</li>
<li>Automating the semver version</li>
<li>Publishing releases and pre-releases to npm</li>
<li>Creating github releases</li>
<li>Rollbacks</li>
</ul>
<h2 id=for-contributors><a href=#for-contributors>For contributors</a></h2>
<p>Contributors should create their feature branch targetting the default branch <code>next</code>. When this branch is merged <code>pr-release</code> will either generate or update a release PR from <code>next</code> to <code>main</code>.</p>
<p>The description and title will be managed by <a href=https://pr-release.org/ >pr-release</a>, including the semver version.</p>
<p>Contributors who have permissions should add the correct semver label to their PR (<code>major</code> | <code>minor</code> | <code>patch</code>). If no label is set, <code>patch</code> is assumed.</p>
<p>If you do not have permissions, the maintainer will set the label on your behalf.</p>
<h2 id=changelog><a href=#changelog>Changelog</a></h2>
<p>There are two changelogs in the Mithril.js project</p>
<ul>
<li><code>docs/changelog.md</code> a hand written curated reflection of changes to the codebase</li>
<li><code>docs/release.md</code> an automatically prepended log of changes, managed by pr-release</li>
</ul>
<p>In future we may collapse these into a single file, the separation is due to the fact the <code>changelog.md</code> predates the <code>release.md</code> file.</p>
<h2 id=for-maintainers><a href=#for-maintainers>For maintainers</a></h2>
<p>Whenever a new feature branch is opened, a reviewing maintainer should add the correct semver label to their PR (<code>major</code> | <code>minor</code> | <code>patch</code>). If no label is set, <code>patch</code> is assumed.</p>
<p>If a <code>major</code> or <code>minor</code> feature branch is merged but no labels were set, you can still go back and edit the semver labels. On label change the release pr will automatically be regenerated and will recalculate the semver version.</p>
<h2 id=updating-mithriljsorg><a href=#updating-mithriljsorg>Updating mithril.js.org</a></h2>
<p>Fixes to documentation can land whenever, updates to the site are built and published via <code>scripts/update-docs.js</code>.</p>
<pre><code class=language-bash># These steps assume that MithrilJS/mithril.js is a git remote named &quot;mithriljs&quot;

# Ensure your next branch is up to date
$ git checkout next
$ git pull mithriljs next

# Splat the docs folder from next onto master
$ git checkout master
$ git checkout next -- ./docs

# Manually ensure that no new feature docs were added

$ node scripts/update-docs
</code></pre>
<p>After the docs build completes, the updated docs should appear on <a href=https://mithril.js.org>https://mithril.js.org</a> in a few minutes.</p>
<p><strong>Note:</strong> When updating the stable version with a release candidate out, <em><strong>make sure to update the index + navigation to point to the new stable version!!!</strong></em></p>
<hr>
<small>License: MIT. &copy; Leo Horie.</small>
</section>
</main>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-jsx.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-diff.min.js></script>
<script src=https://unpkg.com/mithril@2.2.1/mithril.js async></script>
<script src=https://flems.io/flems.html id=flems defer></script>
<script>
document.querySelector(".hamburger").onclick = function() {
			document.body.className = document.body.className === "navigating" ? "" : "navigating"
			document.querySelector("h1 + ul").onclick = function() {
				document.body.className = ''
			}
		}
		document.getElementById("flems").onload = function() {
			var systemFonts = [
				"body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; }",
				"body { height: 100%; overflow:hidden; display:flex; justify-content: center; align-items:center; }"
			].join("")
			;[].forEach.call(document.querySelectorAll("pre code.language-js"), function(el) {
				el = el.parentNode

				var div = document.createElement("div")
				window.Flems(div, {
					middle        : 60,
					editable      : true,
					toolbar       : false,
					shareButton   : true,
					console       : false,
					autoHeight    : true,
					files: [{
						name: ".js",
						content: el.textContent
					}, {
						name: ".css",
						content: systemFonts
					}],
					links: [{
						name: "mithril",
						type: "script",
						url: "https://unpkg.com/mithril@2.2.1/mithril.js"
					}]
				}, "https://flems.io/flems.html")

				el.parentNode.insertBefore(div, el)
				el.parentNode.removeChild(el)
			})
		}
</script>
